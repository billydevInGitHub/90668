# Feature Center 2021

# ShareWorks 

​           <---this is temp  special MD feature to collect information for Shareworks for development view 

​           <---it will be placed to general feature once it is matured !! 

11008 IDEA  <--we can use bookmarks to mark the key lines of shareworks code !! 

11031qus002  <--jenkins view of shareworks

11061qus002-03   <---try to look into share Works gradle stuff 

33818qus002  <--ejb view of shareworks 

# 60066 Morgan

## Note

OBI: 

```
[Yesterday 8:36 PM] Monica Deagle
    try this one: urvi.mistry@morganstanley.com
[Yesterday 9:00 PM] Dafe Owolabi
    Okay Thanks
[9:23 AM] Monica Deagle
    Alternatively - I'm just on the OBI site and it states:
"For any inquiries related to statements, you can contact EIAC team via the following mail groups..." and there is no contact specific to Canada but there is for US - which I will assume includes North America: eiac.us@ms.com 
<https://teams.microsoft.com/l/message/19:ljS-WjhpIc2NLKv5TTsbPp-e5MNr7jnlm6EjsGHoBvE1@thread.tacv2/1624415785493?tenantId=5a966773-0c01-4960-a210-e5e7ff5d02cf&amp;groupId=c934ecd9-3a3d-469b-a795-cd517d96a6db&amp;parentMessageId=1624392853546&amp;teamName=June 2021 New Hires&amp;channelName=General&amp;createdTime=1624415785493>
```

https://confluence.solium.com/display/SU/Regulatory+and+Compliance+EMEA+Policy+Page?preview=%2F285162229%2F298030403%2FPADP+and+OBI+FAQs+Shareworks+MAY+2020.docx

​             <--very useful 

## Questions

1.What is the procedure of code movement ? 

2.How to do the Junit test ?

3.How to do the integration test ?

4.How to do the performance test ?

5.How to setup gradle in shareworks ? 

6.How to do the coding ? 

7.How to do git practice in shareworks ?

8.What is team Tool shed  doing ? 

9.How to setup Tool Shed dev environment ? 

10.How to setup and use Jenkins ? 



## Exp

### 60066exp001 check the code 

​             <---check the overall shareworks code by myself 

### 60066exp002 setup weblogic myself

### 60066exp003 junit test last example

### 60066exp004 create alias for shareworks

​          <--see 10800exp016 

### 60066exp005  ticket about database versioning framework 

### 60066exp006  ansible provision local jenkins in vagrant

### 60066exp007  test rsync

### 60066exp008 help peter with Renderx installation

### 60066exp009 DEV-51025 create enum in groovy 

## Okey Daily Links and Quick info

### __Personal Information

From Morgan Stanley 

#### From Monica: 

see  PWD tab in blib excel; 

#### From Yasmin : 

see  PWD tab in blib excel; 

#### On FOB paper

see  PWD tab in blib excel; 

### __Application Information

see excel spread sheet  "pwd" tab !! 

### Daily Links

http://desktop.solium.com         <---login to access JIRA sharework academy and VPN software stuff etc. 

http://teams.microsoft.com           <--- instruction of meeting

https://shareworks.zoom.us/profile   <----internal zoom meeting , we can just join the posted link 

https://outlook.office.com/mail/inbox  <---outlook , email 

zscaler for VPN  <---in window start up menu

x2go for remote workstation  <---on my desktop

​              (download from : https://code.x2go.org/releases/binary-win32/x2goclient/releases/4.1.2.2-2020.02.13/)

http://mydesk.morganstanley.com/   <---remote desk from Morgan Stanley





### Daily Zoom Meeting (fixed ones)

https://shareworks.zoom.us/j/97695684818 Meeting ID: 976 9568 4818

​                    <---all hands meet



https://shareworks.zoom.us/j/98364876156

​             <---Tool shed morning daily stand up 



https://shareworks.zoom.us/j/91386562441?from=addon

​              <---product ask me any thing



https://shareworks.zoom.us/my/shareworks.onboarding

​             <--onboarding

to be added: 

   shareworks for mac; 



### Tool Shed Links

​            <---meeting link in Daily Zoom !!!

https://confluence.solium.com/display/DEV/Tool+Shed+-+Team+Working+Agreement

​                <---team agreement 

https://confluence.solium.com/display/DEV/The+Tool+Shed   [***]

​              <---it has important links as well 

https://jira.solium.com/browse/DEV-30014

​          <--current epic , from Piyush

​           <--https://jira.solium.com/browse/DEV-42735   <--this is the one need rsync 

https://jira.solium.com/browse/DEV-53277

​         <---next epic, from Piyush 

https://jira.solium.com/secure/RapidBoard.jspa?rapidView=785

​             <--srub, daily stand up need this 

https://confluence.solium.com/display/DEV/Team+Glossary

​              <--some terms 

### Tool Shed Links Pull Request (Sample and begin  point)

https://git.solium.com/projects/SW/repos/jenkins-config/pull-requests/141/overview

​            <---this is the pull request we need cut into in Tool Shed team !!!!!!

https://git.solium.com/projects/SW/repos/shareworks/pull-requests/49986/overview

​              <---this is the training pull request , merged but reverted

​              <---ticket: https://jira.solium.com/browse/DEV-55453   <---it has 3 pull request include the revert stuff 

https://git.solium.com/projects/SW/repos/shareworks/pull-requests/49828/overview

​              <---this is mainly done by myself 

​              <---ticket: https://jira.solium.com/browse/DEV-54999   <---it has a pull request 

## Okey Daily Server Addresses

### Bit Bucket (repo, pull requests)

https://git.solium.com/dashboard

​        <---can see pull  requests here

​        <---my public key added here (why only git server need add public key, why not jira ??? seems jira use PingOne to authenticate)

https://git.solium.com/projects

​          <---this is all projects 

https://git.solium.com/repos?visibility=public

​              <---Git Bucket is from: Atlassian 

### Jenkins (branch and build,log)

https://ci.solium.com:8111/

https://ci.solium.com:8111/job/utility/ 

​           <--from: https://confluence.solium.com/display/DEV/Jenkins+Automatic+Merges 

https://ci.solium.com:8111/job/perfGuard-develop/

​                <--- this is from: https://confluence.solium.com/display/DEV/Creating+a+PerfGuard+Test



https://172.25.33.147:8111

​        <--this is failover jenkins

### Jira (stories, commit)

https://jira.solium.com/browse/QA-132853

### Jira Pull request example 



### Linux workstation

Linux workstations:   Meeting room 15.3 ( from team chat 21--06-12)

### Splunk

https://splunk.solium.com/en-US/account/login?return_to=%2Fen-US%2F 

​            <---seems all weblogic log resources, better than ssh to server and grab weblogic log

​            <---210616S076 and S088

​            <---210621 S057  search up servers

### Test Sites

https://veronicamars.solium.com/

​                 <---list server address, "shift click"   the green server box will show the database connection string, 210608-1-S046, S047

​                  <---- 210614 screen shot show how to use  SUM_QA01  information to connect to database using connection string 

​                              D:\Backup\PM1000\Billydev080107\MyEnabil\170424-1-AllScreenCopiesBPOT\210614-2-DBConnection  S011 

​                                   database user:  SUM_QA  pwd:  test_q1w2e3 

https://veronicamars.solium.com/index.html      <---from jira 

https://confluence.solium.com/pages/viewpage.action?pageId=260900844      [***]

​                  <---the what's of what test sites,also list if we can freely use it or not 

https://ubsplanadminpro.com/solium/version.json 

​                 <---210608 S045 get commit details 

## Okey Documents and souces

<---to add here:  210616 -1 S074 lots of  QA resources

​             210616 S064 there is QA test script format we need put  link here !

<---210711: might need click one of link after login to solium.desktop.com then confluence page will be available 

### ___General Entry point

https://confluence.solium.com/display/PDTO/Onboarding+Index

​              <---lots of good stuff here 

### Dev Ansible 

https://confluence.solium.com/display/DEV/Using+Vagrant+and+Ansible+for+Jenkins   [***]

​            <---60066qus009-1-1

​             <---this is my main setup page

https://confluence.solium.com/display/DEV/Ansible+Provision+Checklist

​           <--- 60066qus009-4-1  , better understand ansible stuff

 https://confluence.solium.com/display/DEV/Docker+Ansible

​             <---60066qus009-4-2  could run ansible command from docker 

### Dev Build 

https://confluence.solium.com/display/DEV/Build%2C+Weblogic%2C+PR+Flowchart

### Dev Database checkDB

https://confluence.solium.com/display/DEV/How+to+Run+CheckDB

### Dev Database clone and setup

https://confluence.solium.com/display/DEV/Linux+Workstation+and+Environment+Setup#LinuxWorkstationandEnvironmentSetup-SetupaLocalShareworksDatabase

​                 <---this one will clone database 



https://yyc-dbdev01.solium.com/sw-local/?C=M;O=D     [***]

​                 <---on top right , there is "modified" link click to get the latest modified

https://confluence.solium.com/display/DEV/Directory+of+Existing+Jailer+Extracts

​                <---database jailer extracts , small thing to fix etc. 

https://confluence.solium.com/display/DEV/Oracle+SE+Docker+Setup

​             <----Oracle SE Docker setup

https://confluence.solium.com/display/DEV/Linux+Workstation+and+Environment+Setup#LinuxWorkstationandEnvironmentSetup-SetupaLocalShareworksDatabase

​              <--clone database and keep database up to date 

https://confluence.solium.com/display/DEV/Unlock+SA+and+CC+users+on+a+local+db+or+refresh+of+a+testing+site

​             <---this the place to unlock SA and CC user

### Dev Database Import

<---210624-1- S024  <--import local database 

### Dev Database script writing

https://confluence.solium.com/display/DEV/2019/02/06/When+to+make+a+db+script+idempotent

​                 <---make db script idempotent

### Dev Database schema change 

sc_database_version <---210608-1 S041  [***]

on paper notebook  210608 !!!!

https://confluence.solium.com/display/DEV/Making+a+DB+Schema+Change

​               <---very good ,  also 210624-1-S010  to Sxxx   

​               <---there is a table in this page which give the script on how to generate the database objects  [***]

​                        <---this will save use lots of time !! 



### Dev Database schema Integrity Check

https://confluence.solium.com/display/DEV/2019/01/16/Schema+Integrity+Check

​                 <----integrity check  210624-1-S017 (need input the schema names)

​                <--210624-1- S025, auto generated database schema change !!!

​               <--210625-1-S000.txt notes about the whole checking procedure 

### Dev Database schema Integration Check Auto Fix

https://confluence.solium.com/display/DEV/Making+a+DB+Schema+Change

​          <--- links here to auto generate code 

​          <----210624-1-S025 

https://confluence.solium.com/display/DEV/2017/12/13/Bak+Table+SQL+Script

​                  <---generate bak table

https://confluence.solium.com/display/DEV/2018/02/23/Foreign+Key+and+Index+SQL+Script

​                  <--generate foreign key 

### Dev Database sys login

​    <--there is a screen copy

### Dev Database versioning framework



### Dev Developer handbook 

https://confluence.solium.com/display/DEV/The+Developer%27s+Handbook

​         <---[***] this is super good

​         <---struts inside as well , effective java !! 

### Dev Exercise syllabus

see "new hire onboarding syllabus"

### Dev Git 

https://confluence.solium.com/display/DEV/Git+Playbook

​               <---need take a look 

### Dev Git BitBucket

https://www.atlassian.com/git/tutorials/learn-git-with-bitbucket-cloud

​         <--from Eugenia 

### Dev Gradle 

https://confluence.solium.com/display/DEV/Effective+Gradle+For+Shareworks

60066qus005 <--about shareworks gradle 

 https://confluence.solium.com/display/DEV/Gradle+Documentation#GradleDocumentation-TaskShortcuts

​               <---60066qus005-1-3 

### Dev Java 

https://confluence.solium.com/display/DEV/Effective+Java+for+Shareworks

### Dev legacy Code

https://confluence.solium.com/display/~adrian.minions/2020/02/10/Working+Effectively+with+Legacy+Code+-+Session+1

### Dev Jenkins for new hire

https://confluence.solium.com/display/PDTO/Jenkins+for+New+Hires

​            <---numbered to: 11031qus002-4-1

https://confluence.solium.com/display/DEV/2018/06/13/Jenkins+Pipelines

​                     <--from new hire onboard index

https://confluence.solium.com/display/DEV/Jenkins

​            <--can look into

https://confluence.solium.com/display/DEV/Daily+Integration+and+Uitest+Failure+Scrubbing

​           <---can look into    11031qus002-4-1-c

https://confluence.solium.com/display/DEV/2017/05/10/Creating+Jenkins+Views

​         <---11031qus002-4-1-c-1

https://confluence.solium.com/display/DEV/2016/04/05/Commit+Hooks+For+Shareworks

​          <--11031qus002-4-1-c-2

https://confluence.solium.com/display/DEV/Daily+Integration+and+Uitest+Failure+Scrubbing

​           <--11031qus002-4-1-c-3

### Dev Jenkins for Team Tool Shed

https://confluence.solium.com/display/DEV/Using+Vagrant+and+Ansible+for+Jenkins



https://confluence.solium.com/display/DEV/Docker+Ansible

​           <--Ryan add this seems setup Ansible stuff 

### Dev Jira

https://confluence.solium.com/display/DEV/Jira+Templates+for+Sagas%2C+Epics%2C+and+Stories

​            <--jira templates

### Dev Linux Setup

https://confluence.solium.com/display/DEV/Linux+Workstation+and+Environment+Setup 

​               <---linux setup

​               <--start weblogic there is -f to disable Jrabel !!  210621-1-S019

### Dev Performance 

https://confluence.solium.com/display/DEV/2021/07/14/Placing+Shareworks+under+a+Microscope

​           <--- 21--07-14 architecture 

### Dev Production Code

https://confluence.solium.com/display/PDTO/Production+Code+Change+Week



### Dev Test

https://confluence.solium.com/display/DEV/Effective+Testing+for+Shareworks

https://confluence.solium.com/pages/viewpage.action?pageId=169511295

### Dev Test API Test

https://confluence.solium.com/display/DEV/Working+with+API+Projects 

### Dev Test Cucumber Test

https://confluence.solium.com/display/DEV/Running+Cucumber+Tests+in+IntelliJ

​            <---210624-1-S033 to S043

​             <---210625-1-S038 xiao's test note

### Dev Test Integration Test

https://confluence.solium.com/display/product/Effective+Integration+Tests#EffectiveIntegrationTests-UseDomain-DrivenTestFixturesoverTestHelpers

https://confluence.solium.com/display/PDTO/Integration+Testing+Week+Syllabus

​                <----from May 2021 new hire team channel 

https://confluence.solium.com/display/DEV/Running+Integration+Tests+in+IntelliJ

### Dev Test Integration Test Picky Monkey

https://confluence.solium.com/pages/viewpage.action?pageId=280371159

### Dev Test Performance Test

https://confluence.solium.com/display/DEV/Perfguard+Test+Performance+Tracking

​         <---210625-1-S011 etc. stuff

### Dev Test UI Test

https://confluence.solium.com/display/DEV/UI+Test+Walkthrough

### Dev Test Unit Test

https://confluence.solium.com/pages/viewpage.action?spaceKey=PDTO&title=Unit+Testing+Syllabus

​         <--exercise , lots of good things  here 

https://confluence.solium.com/display/DEV/JUnitParams+-+Better+parameterized+tests

### Dev wiki  home

https://confluence.solium.com/#all-updates     internal wiki

https://confluence.solium.com/pages/viewrecentblogposts.action?key=DEV   <--dev blog

https://confluence.solium.com/collector/pages.action?key=DEV

​                        <---looks like dev home 

### Dev  workflow  on confluence

https://confluence.solium.com/display/DEV/Developer+Processes+and+Workflows  [***]

https://confluence.solium.com/pages/viewpage.action?pageId=96699903

​                  <--code review and pull request process

​        https://confluence.solium.com/display/DEV/Creating+a+Pull+Request

​                   <---Creating a pull request 

https://confluence.solium.com/display/DEV/The+Developer%27s+Handbook      [***]

​               <---developer hand book

​               <--code style guide line here !! include java and sql 



### HR all team and members

https://confluence.solium.com/display/product/Product+Teams 

### HR policy

https://confluence.solium.com/display/DEV/Policy+Handbook

<-- company introduction has a pdf and has lots of ***/ stuff, check paper note book 210615 

<-- OBI policy also in this link 

### New Hire schedule

https://jira.solium.com/browse/DEV-52991

​          <---jira access and this is for new hire overall schedule

### New Hire schedule for July

https://confluence.solium.com/pages/viewpage.action?pageId=274489888#NewHireClass&CoachingCalendar-July2021NewHireClass

https://confluence.solium.com/display/PDTO/July+2021+New+Hire+Class 

### New Hire Onboarding Syllabus [***]

https://confluence.solium.com/display/PDTO/Onboarding+Syllabus

### ShareWorks architecture

https://confluence.solium.com/display/PDTO/Shareworks+Architecture+Tour   [***]

​              <---very good 

### ShareWorks Software

https://shareworks.exceedlms.com/student/collection/448556/path/386364/activity/841947 

​           <--participant actions





## Okey  Terms Application

### BSOT

 <--I guess it is :    Bulk Sale or Transfer Configurations (ISOT), refer to: https://jira.solium.com/browse/QA-132866

​      see also : ISOT

### CSM/CA

<-- from: 210614-1-S026

  ?? client service manager ???

### DSS / DSU

Deferred units ( DSS / DSU )   QA-132858

210609-1-S035  DSU

### DWAC

<---from: 210614-1-S023a

DWAC stands for Deposit/Withdrawal at Custodian.  It is an electronic transaction system run by  The Depository Trust Company (DTC) that makes it possible to transfer new shares or paper share certificates between broker/dealers or custodial banks, the DTC participants, and the issuer’s transfer agent. 

<--- explained: 

### EGC 

employee grant calculator

​      from: https://confluence.solium.com/display/DEV/Dev+Tech+Talks?preview=%2F130450096%2F312533277%2F2021-06-23+-+egcService.pptx

### ESOAP

Employee Stock Options and Awards Plan   QA-132857

### ESPP

Employee Share Purchase Plan    QA-132857

210609-1-S036

### FMV

Fair Market Value (FMV)   from: https://jira.solium.com/browse/QA-132865

### Grants

210611-S005 

### ISO 

Incentive Stock Options   210611-S015

Incentive stock options (ISO)  

### ISOT

Individual Sale or Transfer Configurations (ISOT), or often just Sale/Transfer Configs, are how a Company Admin configures which exercise methods employees are allowed and where the shares and cash are delivered to.

​        <---from: https://jira.solium.com/browse/QA-132866 

​        <--related to BSOT as well 

### NQ

Non-qualified stock options (NQ)

### PSU / PSS

Performance units (PSU / PSS) QA-132858

​    210609-1-S035  PSU

### RSA

Restricted stock award (RSA)   QA-132858 

### RSU

Restricted Share Units (RSU)      210611-1-S031 

​                                QA-132858 

### SAR

Share appreciate rights or stock appreciate rights (SARs)    QA-132858

210609-1-S030 

There are three types: 
Stock Settled SAR (SSAR)  - this award type can only be settled in stock
Cash Settled SAR (CSAR) - this award type can only be settled in cash
Tandem SAR (TSAR) - this award type can be settled in either cash or stock

### UBS

## Okey  Terms Dev And Tool shed

### Feature Toggle

​      210621-1-S063, S078 

### PR

  pull request, shall have a source ( dev) and a target  <---I guess depends 

### RC

   release candidate branch  <--need bind to site list 



# Actuator

## Data

### Configuration  <---should go back to exp level 

management.endpoint.health.show-components=always  

​                <---there are a bunch of indicator stuff          
management.endpoint.health.show-details=always    <--from 33808Exp097

management.endpoint.health.show-details=always   <----33808exp153

management.endpoint.shutdown.enabled=true     <---shutdown spring boot using a post message from (https://cloud.tencent.com/developer/article/1586358)

management.endpoints.sessions.enable=true    <--from 33808Exp102
management.endpoints.web.base-path=/minitor    <--- from (https://cloud.tencent.com/developer/article/1586358)
management.endpoints.web.cors.allowed-origins=https://www.choupangxia.com  <---allow CORS from (https://juejin.im/post/6844904000832159751)
management.endpoints.web.cors.allowed-allowed-methods=GET,POST        <---from (https://juejin.im/post/6844904000832159751)
management.endpoints.web.exposure.exclude=beans,trace  <--from https://cloud.tencent.com/developer/article/1586358
management.endpoints.web.exposure.include=*   

​             <--from 33808exp096, expose all web endpoints    

​              <---this is the most important

management.endpoints.web.exposure.include=*      <----33808exp153

management.health.defaults.enabled: false     

​       <--from (https://cloud.tencent.com/developer/article/1586358)         
management.health.mongo.enabled: false        

​         <--from (https://cloud.tencent.com/developer/article/1586358)  

management.endpoint.health.show-details=always   

​                              <---33808exp097
management.endpoint.health.show-components=always

​                               <---33808exp097

management.server.port=8080                   <--from 33808Exp099 for ssl configuration
management.server.ssl.enabled=true
management.server.ssl.key-store=classpath:sample.jks
management.server.ssl.key-password=password
management.server.ssl.key-store-password = secret
management.security.enabled: false                    <-- from 33808exp104, try to disable security 
management.trace.include: remote_address, parameters  <---from 33808exp104, what need to be added to trace
management.endpoints.web.exposure.exclude=beans,trace

### api

Spring Boot Actuator API document (https://docs.spring.io/spring-boot/docs/current/actuator-api/html/#overview)

### Endpoints  <---better to wrap in exp

   http://localhost:8080/actuator  overall Url  

​                <--from Exp096,list all url for actuator
   http://localhost:8080/actuator/env           
   http://localhost:8080/actuator/env   applicationConfig  <---application.propterties stuff double  check        
   http://localhost:8080/actuator/env   systemProperties  <--- connection pool number,  java  version, lib path etc.         
   http://localhost:8080/actuator/heapdump     <--use jvisualvm to open heapdump from: (https://cloud.tencent.com/developer/article/1586358)
   http://localhost:8080/actuator/logfile      <-- get log file from: (https://juejin.im/post/6844904000832159751)
   http://localhost:8080/actuator/loggers/root     use post to change log level <--from: (https://cloud.tencent.com/developer/article/1586358)
   http://localhost:8080/actuator/metrics  ~all metrix names 
   http://localhost:8080/actuator/metrics/hikaricp.connections            <---total connections 33808exp126
   http://localhost:8080/actuator/metrics/hikaricp.connections.creation   <---see connection creation time 33808Exp126
   http://localhost:8080/actuator/metrics/hikaricp.connections.idle     <---2  connection pools and idle  from Exp126 
   http://localhost:8080/actuator/metrics/hikaricp.connections.max       <---max connections 33808exp126
   http://localhost:8080/actuator/metrics/hikaricp.connections.min       <---min connections 33808exp126

http://localhost:8080/actuator/metrics/hikaricp.connections.pending

​              <----33808exp234 

   http://localhost:8080/actuator/metrics/hikaricp.connections.timeout   

​             <---count is 0 make sense 33808exp126
   http://localhost:8080/actuator/metrics/http.server.requests  requests    

​                                       <--from Exp096, gives request stat information

​                                        <---33808exp234 also have http server requests

   http://localhost:8080/actuator/metrics/jvm.threads.daemon  daemon threads 
   http://localhost:8080/actuator/metrics/jvm.threads.peak  threads peak   <--
   http://localhost:8080/actuator/metrics/jvm.memory.used  memory used    
   http://localhost:8080/actuator/metrics/jvm.memory.max    memory max     
   http://localhost:8080/actuator/metrics/tomcat.sessions.active.current session active   <---check 33808Exp152 static metrics.html  with links when the above links not working in markdown
   http://localhost:8080/actuator/shutdow   <--when enabled, use:   curl -X POST "http://localhost:8080/actuator/shutdown" to shutdown (https://juejin.im/post/6844904000832159751)
   http://localhost:8080/actuator/threaddump   <--give big json and detailed thread information

## Exp and features

### Exp-Basic

33808exp096

33808exp217

### Exp-customization

33808exp097 -105

### Exp-metrix

33808exp106 timer

33808exp107 gauge

33808exp108 counter

33808exp152 with webflux 

33808exp153 adding mbean

33808exp203 webflux positioning  see topic "Spring boot/actuator"

# Agile

### doc



# Algorithm and code test Java

### 30012expXXX

### 51012exp   applied ones and code test like leetcode etc. 

# Algorithm and code test JS

test dome has code test <--could convert to exp 

# AOP

## Data

    aspect:一定要给spring去管理  抽象  aspectj->类  
    pointcut:切点表示连接点的集合  ------------------->           表
       （我的理解：PointCut是JoinPoint的谓语，这是一个动作，主要是告诉通知连接点在哪里，切点表达式决定 
         JoinPoint 的数量）
    Joinpoint:连接点   目标对象中的方法 ---------------->    记录
         （我的理解：JoinPoint是要关注和增强的方法，也就是我们要作用的点）
    Weaving :把代理逻辑加入到目标对象上的过程叫做织入
    target 目标对象 原始对象
    aop Proxy 代理对象  包含了原始对象的代码和增加后的代码的那个对象
    advice:通知    (位置 + logic)   
             <--33808Qus076_(02)_1

Spring Framework AOP API (https://javadoc.io/doc/org.springframework/spring-aop/latest/index.html)

Spring Framework AOP AspectJ API (https://javadoc.io/doc/org.aspectj/aspectjrt/latest/index.html)

Spring Framework AOP Concepts (https://www.edureka.co/blog/spring-aop-tutorial/)

#### PointCut Examples  <-----maybe better to 

```
@Pointcut("execution(public String com.baeldung.pointcutadvice.dao.FooDao.findById(Long))")
```

​            <---from: https://www.baeldung.com/spring-aop-pointcut-tutorial

## exp and features 

 33808exp037 reuse pointcut 

 33808exp073 <--log method execution 

 33808exp074

 33808exp079  

 33808exp147 ( ? used in source code analysis)

33808exp145

33808exp192 Log result Mono and Flux

# APM and monitoring

## todo: 

https://medium.com/@sece.cosmin/monitor-spring-boot-application-performance-with-elastic-apm-elasticsearch-and-kibana-8d4299cad2be

​           <---good article

https://www.openshift.com/blog/performance-metrics-apm-spring-boot-microservices-openshift

## exp and feature

33808exp235 <--prometheus  grafana stff 

# AssertJ

see also 32606 collection

# Async Support Java

33808Exp057_AsyncServlet  not completed 

33808exp113  using DeferredResult which should use AsyncContext of Servlet3.0

33808exp170  use CompletableFuture, need to prepare Executor bean

# Async Support JS

see Promise

# Authorization

33808exp142 with analysis and break points; 

# Autoconfiguration of Spring Boot

152pd163 <--how datasource auto configured 

# Banner 

33808exp217

# Auditing

33808exp105

33808exp234  <--todo 

# Axios

https://www.smashingmagazine.com/2020/06/rest-api-react-fetch-axios/

​                 <--new tutorial 

https://www.digitalocean.com/community/tutorials/react-axios-react

​             <---good tutorial 















# Big Project

33808exp205 to 208  <--spring cloud overall 





# Bootstrap

see also CSS and SCSS

73066exp048 <--reactstrap component

# Build and deploy

see CICD

# Cache

see also redis stuff

book152pd236 we can do some examples

33808exp166 

33808exp226 

# Calculation

see Number and calculation

# Central configuration 

​    33808exp159

​    33808exp185



# CharSet and Unicode

## Data: 

PSS_Usage_Process.xlsx     ASCII,    Encoding and Unicode tab !! 

http://www.chi2ko.com/tool/CJK.htm 

​          <--chinese Unicode point

https://en.wikipedia.org/wiki/Plane_(Unicode)

​          <--this is Unicode planes 



# CharSet and Unicode Java

30160blib excel:  "Encoding 要Merge Unicode的表示"    --second key good !!

## exp

<--30160qus6 and qus13  

30160exp011 <---output different charset good !! 

​                <-----todo:  30160blib excel:  "Encoding 要Merge Unicode的表示"    --second key good !!  will help output java memory

# Charset and Unicode JS



162pd43<-- also 73066exp035 book162 examples , ES6 has new unicode notation, 

​                     see screenshots 210415 book162 S001,002,003

​                <--162pd43 also mentioned there are 6 ways to express characters 

​                <--162pd44 codePointAt is a very powerful method !! but need use with a loop  S006 very good !! 

​                 <--162pd45 another powerful way of using codePointAt 

162pd45 <--convert from code point to char 

​                 <--can also use iterator !!!!

162pd98 <--use spread to do 32bit unicode chars as well 

# Charset and Unicode Oracle

36000exp002 <---there is unicode output stuff 

# Cloud

see also Spring Cloud xxx features

Command Line Runner: 

see also Spring Command line runner ( run command line stuff in the end of spring start)

# Command Line Runner:

see Spring CommandLine runner



# CICD

## todo: 

setup own local docker registry

## data

https://zhaohuabing.com/2018/04/16/using-helm-to-deploy-to-kubernetes/

​            <---in the end gives CICD with docker and k8s solution  210331S014 !!! 

## exp and features

examples for 51500 DevOps  stuff 

11031exp003 to Exp006  <--jenkins stuff and deploy through docker 

33808exp180  <--build spring and reactjs together with webpack

33808exp210 <--from exp180 

33808exp222  <--k8s deployment 

# Compare and relational ops

30152exp001 to exp005

# Configuration for spring boot

see Spring boot/configuration for details 

​     <---gradually move to keyword to key

# Configuration Properties: 

33808Exp003

33808Exp065    <---use @Value

33808Exp082  <-- not really confirmed the configured properties working



33808exp126  <---

33808Exp144  <--wrap stuff within a class 

33808exp202  <--together with profile 

33808exp234  <---add our own configuration properties file 

# Connection Pool

see database connection pool 



# CORS setup

33808exp012 <--with 73030 as client 210129 

33808exp179 <---main app server side setup allow origin 9000, then test part set origin request with 9000!!

​                               use both java config and annotation!!

33808exp200

33808exp211

# CSRF

159pd013 

​    <--further: https://www.cnblogs.com/zhuzhenwei918/p/6053955.html   <--seems give more detailed stuff 

​      <---https://tech.meituan.com/2018/10/11/fe-security-csrf.html   <---this one gives an example good 

33808exp084

33808exp215

# CSS

## exp and features

33808exp180 

​     <--modalDialog use opacity   , use Pseudo class :target 

73003exp   <--check example there

73066exp045 <--has css file     and seems css class name could be controlled by props 



# Custom annotation

​         <---201104: we really need pay more attention on this 

​       33808Exp079,

33808exp145

# Custom Starter

210302 read weChart Spring AutoConfiguration article 





# Data Audit 

33808exp132



# Data base query

see SQL XXX



# Database Overall 

see SQL xxx

see Database xxx 



# Database Connection pool 

210205 email draft (01) hikari connection pool setting 

33808exp133 dbcp2 connection pool 

33808exp200 Hikari

33808fexp211 Hikari

33808exp217 hikari connection pool 

33808exp221  hikari connection pool and (03) has default setting etc. 



# Database Data Source 

book152pd162 <--has 3 ways good !! 

30880exp022 Not Spring application use Oracle Driver 

33808exp119 use embedded tomcat  jndi datasource

33808exp126 multiple data source , actually use Spring DataSourceBuilder to build datasource

33808exp133 use dbcp2 BasicDataSource , direct new an instance with configuration properties

33808exp202 multiple data source with profile setting

# Database Initialization

see "Initial setup"







# Database JDBC

## exp

### 30880expXXX <---all kind of jdbc code there exp022 generic code and exp024 mysql stuff

### 33808exp132

# Database load 

see Initial setup

# Database  lock

152pd141 <--optimistic lock, need do example 

# Database Setup

36000exp006  <---setup db schema etc. 

36000exp023  <---create oracle database using docker 

# Database   transaction 

see transaction

# Data JPA

see Spring Data JPA

# Data Structure Java need merge 30170examples

# Data Structure Java Enum

### 31430exp  <----8 examples here

# Data Structure Java List 

33808exp224 GraphQLDataFetchers 

​     <--use Arrays.asList ( then input array here )

# Data Structure Java Map

30170expXXX  <--lots of examples need to arrange

30170exp026   <---this is multi-value map

33808exp224 GraphQLDataFetchers 

​        <--ImmutableMap,easily construct 

# Data Structure Java  Tool 

should like : Arrays, Collections <---have API decrease ??

# Data Structure JS Array

see also:  ES6 spread rest stuff 

​           <--spread can insert array to another array

http://es6-features.org/#StatementBodies  <--ES6 arrow functions

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/length   <---array API

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce   <--reduce API 

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/slice  <--slice api 

​                  <---just like cut the elements out

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/splice   <--splice 

156pd23  <---list js array operations  <--need example of reduce 

156pd57 <-- explain forEach, for of  for in stuff 

158pd46 q40  <--we got reduce*** example !!! 

160pd5   <--talking about shift stuff 

160pd13 <--concat and push good !! 

162pd84  <--list all array methods like map, some,every etc. 

162pd96 <---arary push and add with spread ops

162pd120  <--list 6 ways on how to iterate through Object attributes ( not really for array)

73030exp001 <--- array push to add new element

73030exp009 <---array sort 

73030exp025**  <--with function and arrow function stuff  do reduce,  filter, map , forEach

73030exp034  <---rest, then do mapping 

73030exp035 book156/app_pd023.js  <---array slice, splice and string split from 156pd23 and online



73066exp016 <--app.js insert character at index:  use splice ,api.js use filter,  predicate

73066exp036 testDome qus006 <---array split and array reduce***!! 

# Data Structure JS Map

162pd176 <--set and map chapter

162pd320 <---how to iterate through Map 

73030exp010 <--json acts as map 

73030exp062  <--really using new map data structure

# Data Structure JS Set

162pd176 <--set and map chapter

# Data Structure JS Tool

MDN Object.keys() <---maybe we can use static methods as tool methods !! 

162pd178 <---array can use Set to dedup array elements

162pd181 <--Array.from  looks like a tool stuff 

162pd204 <--can use Array.from to convert array like to real array, then it has iterator interface 

# Data Type Java

30110exp001 to exp028  good example with conversion

33808exp237  JPA all data types 

# Data types Java bit ops 

java has special bit ops 

# Data types Java Byte

32651expXXX

# Data types Java Number

### 30110exp001 to exp028 <--lots of good examples

### 30120exp001 to exp011  <--operators including bit operators 

### 33808exp237  JPA all data types 

# Data types Java To&From Database

33808exp200 blob 

33808exp237  <---using JPA to do ORM and checking database as well 

# Date types Java Financial number

## Data: 

https://en.wikipedia.org/wiki/Long_and_short_scales

​           <--PB TB explianed

## Exp

145pd11  <---任何货币金额，均以最小货币单位且整型类型来进行存储。

30110qus001

33808exp237  JPA all data types  <---S003 shows 

# Data Types JS

156pd23  <--- basic type 6 

162pd126  <---list 7 types of ES6 ,Object is a big type, I guess need to check type of as well 

# Data Type JS Boolean

# Data Type JS Boolean Conversion

158pd9 Q4  <---js convert boolean to 1 (true)  0 (false)



# Data Types JS Byte

book162 has some 

# Data Type JS Number 

162pd65   <--very good for number stuff , check isFinite or check isNaN 

73030exp026  <---Number instance and number value 

# Data Type JS Number conversion

158pd20 <--- + make number convert to string <---similar to java !! 

162pd65 <---use Number to do conversion like Number('0b111') ///7

​                  <--this Number method looks interesting 

162pd66 <---Number.parseInt   parseFloat to get integer and float 

   

# Data type mysql

38000U002  Number

38000U003  Datetime

38000U004  String

# Data Type Oracle

book117 datetime operations

36000qus008 <--list all oracle data types and features on paper as well 

30880  clob read, clob write  --second key  !!

30880exp022, 30880exp007 JDBC ops 

​            <--can do more test 

33808exp237  JPA all data types 

38888qus025 <--compare mysql with oracle



#### 





#  Date Time Java old to be added

30140exp001 to exp009 old style for java stuff

# Date time Java parse 

##### 

33808exp234  <---in job control thread we need check the time difference, using LocalDateTime          

​                         <--then change to StopWatch !! 

<---the following need a change: using exp plus keyword, no concrete code !!!!





# Date time Java generate datetime

33808exp185 

​     <---MapperUserService in 33808exp185  current

​     <--145pd15 LocalDate.of(2011, 1, 1).lengthOfYear();  to get how many days in a year!!



# Date time Java instant to LocalDateTime 

```
//Instant timestampNow=Instant.now();
Instant timestampNow=Instant.ofEpochSecond(1606180581);
          <--mimic things from db
 
// Instant timestampNow=Instant.now();
   Instant timestampNow=Instant.ofEpochSecond(1606180581);
          <--epoch second is 10 digits
          <--get from database ?
// LocalDateTime ldt = LocalDateTime.ofInstant(timestampNow, ZoneId.systemDefault());
   LocalDateTime ldt = LocalDateTime.ofInstant(timestampNow, ZoneId.of("Asia/Shanghai"));
            <--LocalDateTime itself does not contain zone information
   System.out.printf("Information of LocalDateTime constructed from instant : %s %d %d at %d:%d%n", ldt.getMonth(), ldt.getDayOfMonth(), ldt.getYear(), ldt.getHour(), ldt.getMinute());
            <---free format
   System.out.println(ldt);
            <---standard format 
            <---from 30140exp015
```

​       <--timezone id: https://mkyong.com/java8/java-display-all-zoneid-and-its-utc-offset/

# Date time Java same instance with zone Java

30140exp014 <--- time value, zone value get zoned time, then a bit calculation got new zone 

# Date time calculation Java

https://www.baeldung.com/java-8-date-time-intro  <---looks good 

30140exp012 <---use  Temporal Adjusters is more flexible

30140exp013 <---localDateTime used a lot with plus/minus Month ops

30780exp035  <---timeUnit 

33808exp234 <--use StopWatch to calculate time difference 

# Date time calculation JS

73030exp016 <--calcaulation

# Date time format Java

145pd14 

see also:  Java I18N locale based Date format  (lots of locale based stuff)

# Date time calculation  JS:

73030exp016 <---use millisecond adding

73030exp035 testDomePublic qus04 <--do set on year, month, day



# Date time JS parse 

https://stackoverflow.com/questions/28002261/parse-date-time-string-in-javascript-which-are-of-custom-format

​             <--customized parse , need moment.js 

73030exp035  testDome qus04.js <---customized format, not use parse but use manually create new Date

# Date time format JS

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat

​               <---Intl seems an option

https://flaviocopes.com/how-to-format-date-javascript/

​              <---classical js format 

73030exp014  <--create date

73030exp015  <--different format 

73030exp035  testDome qus04 .js   <----very good !! customized input and customized output 



# Date Time Oracle

todo: 

117recipe 8-1 add_month

​                   8-2 directly subtract 

8.3  <--business days interesting and use pivot table 500

8.5 convert to minutes of 8.4 (date difference )

8.6  <--how to add a year !! 

8.7  <--use leadover, also analicialfuction

9.2  <---determine the number of days in a year <---use trunc to get first date ,use add month to reach next year

9.3  extract number of time unit ...  <--I guess we can also use extract function 

9.4 determine the first and last day of a month  <--last_day and trunc

9.5 determine all dates of weekday in a year

9.6  Determining the Date of the First and Last Occurrence of a Specific Weekday in a  Month 

​                   <--next day, last_day and trunc

9.7 Creating a Calendar

9.8 9.8. Listing Quarter Start and End Dates for the Year  <---looks interesting,can be put into a tech rownum

9.9. Determining Quarter Start and End Dates for a Given Quarter  <--complicated and can make a try

9.10. Filling in Missing Dates  <---use connect by complicated, can make a try

9.11. Searching on Specific Units of Time  <---we can expand this exp !! 

9.12. Comparing Records Using Specific Parts of a Date  <--also can expand this !!!! 

9.13. Identifying Overlapping Date Ranges  <---seems self join also very interesting 

36000exp003 <---



# Design Pattern Java

### 31900exp 

### 32900exp has 37 examples

# Design Pattern JS

73030 has question for design pattern !!! 

# DevOps

see CICD

# Docker and Docker File

11031exp003 spring boot project use gradle to build docker image and push

​                       copy built jar into docker root folder and start java app

11031exp004 use gradle to create jenins docker images with plugin and pipeline job creation 

11031exp005 similar to exp004, use billydev project,copy files into image and run script in image

11031exp006 has docker file

33808Exp117 has docker files; 

33808exp186  docker build  

​          <--has apt get stuff in Dockerfile,  

​          <--it has builder.sh which will build all images 

33808exp187  <--define a local volume in docker-compose.yml 

33808exp219  ( then link to 11031exp003-exp006)

50216exp008 (temp here, need create a new spring application) DockerFile

73066exp044  docker file for npm application (not sure if run ok in aws )

# Docker Compose file

11031exp003

11031exp004

11031exp005

11031exp006

50216exp008 my own edited, mysql, spring, java client image build from DockerFile

33808exp187 keycloak

# Email

see also Linux Email and FTP

see also Spring email 

# Encoding

## Data

90668U002 has some last year stuff :    <--there are encoding stuff 

33888Qus004Apache Codec  exp001-exp008 very good !!! [***]
33888Qus005Compression   <--about archive and compression  ,  to be added 

# Encoding java Application Encoding

​      <--like  base6 etc. 

32651exp003  <--message digest and Base64 encoding

33888exp002 to exp007  <--including base64, binary encoding, hex encoding 

# Encoding Java Escape

some regex escape etc. ????? see below ???

# Encoding Java URL encoding

73030qus051  <---this is about url encoding stuff [***]

# 





# Encoding JS Url encoding

73030qus034 and qus051    

​       <--qus051: escape function, encodeUri, encodeUriComponent  also gives scenarios and example !!!!!

# 

# ES6 new features

## Data

<--https://es6.ruanyifeng.com/#docs/symbol  

​              <---this is super super good stuff !! 

<-- http://es6-features.org/#Constants  

<--156pd53-57 around 

159pd27 q45  <---very good !!! 

160book <--- this is ES6 book !!

## exp and features

#### const array absorb stuff 

   <--go on javascript physical paper 

Example1: 

 const [isOnline, setIsOnline] = useState(null); 

   <--why it is an array not json object ???

​    <---from : https://reactjs.org/docs/hooks-custom.html

# ES6 Rest /spread

   <--I guess rest is push rest of element into array

Example1: 

​       <---I guess spread is split array variable into another array like   [a,b,...anotherArray, c, d]

Example2: 

​      seems can also do within { } like : return <WrappedComponent {...this.props}/>;

​                 <---I guess this might not be array spread, but json object spread ( need confirm)

​                <--from :  https://blog.jakoblind.no/simple-explanation-of-higher-order-components-hoc/ 

156pd54   <---array and object good !!!!!

162pd94 <---rest is an array and use  rest to pass in parameters with any number

162pd97 <---very good examples for spread, last one destruct list good !! 

162pd99 <--use spread to convert array like object to real array !!! 

162pd123  <--spread used for object !!

​                   <---73066exp046 todo.js in function return, now we can understand that new properties will override old ones

162pd180 <--spread  can be used on set as well 

​                        same in 180 page,  spread use for...of loop inside 

162pd187 <---can use spread to convert Map to array as well !! and is fastest

162pd320  <--should use rest to process function arguments not the argument object which is only array like object

7303exp030 <--spread

73030exp031  <--array copy

73030exp032  <--argument to array

73030exp033 <--argument to array , cal length

73030exp034  <--argument to array and do the mapping 

73066exp046 todo.js in function return, now we can understand that new properties will override old ones

# ES6 Object destructor

70366exp016 <-- const { characters } = this.state;  in App.js

# ES6 Promise 

​    <--see Promise in this feature center

# ES7 new features

162pd46  <--at() function of string , es5 is charAt 

# ESLint

# Excel processing

30350exp001 <--excel processing for mic

seems POI api:  https://www.baeldung.com/java-microsoft-excel

# Exception and Error Handling Java

31300 Exp OCP examples here <--25 examples here

33808Exp004, 

33808Exp012  

33808Exp053, 

33808Exp082, 

33808Exp083,   

33808exp122, 33808exp125 annotation on Exception (like: @ResponseStatus(HttpStatus.NOT_FOUND))

33808exp136  <-- has AuthenticationEntryPoint, seems different from ExceptionHandler

33808exp144 use @ExceptionHandler annotation

33808Exp147 this is a big one with @ControllerAdvice and extend ResponseEntityExceptionHandler

33808exp202 with test case 

33808exp217 use @ControllerAdvice

50216exp008,

# Fat Jar for Spring boot

33808exp221   210203 S002

33808exp229  210324 S011 

# Filter in Spring boot

33808exp136 auth token filter

33808exp143 MDC filter

50216exp008

​      <--token filter added before UserNamePasswordAuthenticationFilter  

​          33808qus174_(02)__1_a also discuss how to order filters

# Filter Chain

33808exp093 Virtual Filter Chain and Filter Chain analysis

​          <---Virtual filter chain formed on the fly why FilterChain list is configured

# Form Login

33808exp085 

​    <---per 33808qus174_(02)__1_a   

​          check: WebSecurityConfigurerAdapter line 220 formLogin is by default

33808exp142

33808exp202 

​     <--- own form login page, parameters   and success handler

​            change FormLoginConfigurer 

# Formatting

see IO and formatting

# Front end

<---??? need to input

# Gateway

33808exp186,

33808exp187

33808exp197

33808exp205

# Git

## Data

### Best recall route

go through all exp <--could list best exp or levels of exp

go through book151

something like Git rebase scenario also good !! 

### Some Material to read

60066qus007  <---about share works 

### Morgan Stanley and Shareworks

see 60066 Okey Dev Git,  Dev Git Bit Bucket

# Git 1  Setup and config

## Data

see 11021 git commands ( here book151 quick reference is listed)

## Init/Clone/Config

git clone <---151pd31, 34

git config <---151pd24 

git init        <--151pd21 

## ignore

.ignore file  <--- 151pd38  add .ignore file

​                     <---151pd43   some not ignore ,  use include 

​                     <-----73066exp047 ignore file good !!! 

​                   <---git check-ignore will show details of ignore rules 

11021qus029 <----rules in  qus029-2,  qus029-4 , S200802-1

11021exp040  <---ignore rules

git check-ignore <---cmd to check ignore rules , super good !!! 

## alias 

see alias cmd 



# Git 2 Stash and Checkout

11021exp018   git stash               <---temp keep work copy and working on new stuff 151pd56  

11021exp019  <--seems not very needed ?

11021exp035 [***] 

​            <---seems advanced stash and seems more practical 

git stash drop     <--- need look into more details     

git checkout        <--151pd86

# Git 3 Branch ops

delete branch <--151pd127

create branch 

create branch at hash <---151pd124

# Git 4 Check Before Commit

git diff 

git diff-tree <--list files

git diff hash1 hash2 <---should see detailed difference

# Git 5 Add or rm before commit

git add -u   <-- for modified and deleted

git add -A   <-- new modfied and deleted

git add .  <--- everything except deleted 

git rm               <---different from remove file, it is git tracked       <---151pd52

git rm --cached     <---151pd54

# Git 6 Commit 

## todo: 

https://fle.github.io/git-tip-keep-your-branch-clean-with-fixup-and-autosquash.html

​          <---this is fixup and autosquash



git commit <---just commit  , actually put staged stuff to rep  151pd30

git commit -d  <---commit with date stuff  151pd79

git commit --amend 

​       <---deal with small fix of recent  commit like missing one file, or need add msg  151pd75

​             then the recent commit will be fixed

​             



# Git 7 after commit 

git reflog 

​         <---see: https://blog.csdn.net/songyuequan/article/details/83714695  we can go to specific commit and branch it 



11021exp042  change date and amend commit

151pd151 <----choose one of the change options



git revert    <---can do it before push,    this is just do another commit to "restore" 151pd176  



git rebase  -i     <---   reorder                   151pd163

​                           <--- rename  commit     151pd152      

11021exp026 reword

11021exp027 use rebase to squash commits

11021exp028 rebase to reorder

11021exp029 rebase to reorder with conflict 

11021exp042  <--- commit and amend 

11021exp043  <---- use rebase to modify commit including drop etc. 

11021exp044    <--- how to restore the rebased stuff 



git reset  xxxx filename  <--- mixed, quick remove the file from staged

git reset            <--- by default reset head and staged

git reset --soft  xxx <--- change head only, no change stage

git reset --hard xxx <-- change head, stage and work directory

151pd180 <--we can restore the stuff cleaned by reset !! 

# Git 8 before merge --squash

git rebase -i    <----- squash the commits   151pd154 

git diff master..feature <--check branch 

git log master..feature  <---check before merge





# Git 9 Merge 

​             <-----210612: I guess the most frequently used merge method should be in 11021exp046 using IDEA !!!! [***]

​                                  (I guess we can manually "absorb" the code from feature branch, then it become a normal commit)

​              <-----for merge conflict , check conflict scenarios 

​               

git merge squash   <--- do merge and squash together   151pd160



git merge branchXXX  <---usually master merge branch    151pd134

​                         <-----if master can directly use feature branch commit, it is called faster forward

​                         <----11021qus007-02-3  list fast forward and failed scenarios

​                          <---there is gitflow from atlassian  we need look into like hotfix concepts etc. 

git rebase  xxx   <----from feature rebase to master   151pd139 

​                            <----11021qus049-01-2   Q11 need carefully choose between merge and rebase 



11021exp016,  11021exp017 <--- git cherrypick  from master, 151pd146  

11021exp048  <-----real fight dev merge feature and push back !! 

pull request  <--other options 

​                         <--see 60066qus001 , this is real fight pull request 

patch             <--other options

# Git 10 remote ops

git branch -a   <--will include remote branches

git remote add   <---first need setup

​                 <--more see git remote   Okey in BLIB MD

git rebase    <--- seem master rebase the remote (or on top of remote)   151pd103

git fetch     <---- shall create  a new branch     151pd135 

git pull          <----git pull =  git fetch + merge     151pd95

git push      <---151pd102

git push tags   <---151pd72

# Git 11 Github Ops

git fork   <----11021qus049-01-2  Q1, Q2  talking about git fork stuff 

git pull request   <----190413-4-GitHubtest screen shots

github stuff  <---in techDetails of 11021 

# Git 12  maintenance 

git repack   <---151pd142

git mv , git cp  <---git restructure   151pd63 

.git folder   <--see TechDetails 

# Git 13  when conflict happen

<--most of time use: git ls-files     <---this very useful 

git log --oneline --left-right HEAD...MERGE_HEAD
git log --oneline --left-right --merge

​             <---the above 2 command also can be  used to check 

merge 

11021exp022  <--merge conflict , with one good article

pull

11021exp023  <---different users pull conflict 

rebase 



how to deal with git emergency 

# Git 14 rebase scenarios

## (1) default rebase scenario - local master merge remote

11021exp024,  151pd103  local master rebase to remote , then push  ( this is kind of "remote merge local")

​              <--as this rebase does not have parameter, probably the default rebase behavior

​                   Compare S007 and S005 <---rebase make the remote hash not changed but master has new hash (changed!!)

​                   (FYI. git merge feature   is  master absorb branch stuff  151pd134)

## (2) rebase feature or master

​          11021exp025, 151pd139 <--use rebase to merge to master 

​                      <---feature rebase master  will absorb master  and put master stuff in the bottom

​                           (FYI. master merge feature,  master will absorb feature code, but feature stuff on the top 121pd160)

## (3) Rebase for commit arrangement

​                 <--usually use -i 

11021exp026  151pd152 <---rename committed stuff 

11021exp027  151pd154 <--squash committed stuff 

11021exp028  151pd162 <--reorder committed stuff 

11021exp029  use rebase to reorder commits with conflicts 

11021exp030** use rebase to check conflict solving one by one 

11021exp031 use abort in rebase

11021exp032 use skip in rebase   , master code will still be absorbed

11021exp033 one skip one abort still be abort

11021exp034  reset not working during rebase 

# Git 15  get information

## (1) Current Status

git status    

git status -s 

​                   <----151pd160, 151pd49, 151pd44

git branch  <--list branch 

## (2) File content stuff

git blame    <---151pd108

git grep    <--151pd148

### (3) Log

git reflog     [***] 

​               <--history 151pd174

​                <--11021exp022 can see reset etc. 

​                <--11021exp044 used when restore rebased stuff 



git log   <---can use --pretty=oneline  151pd166  or 151pd146 ??

git log origin/master  --pretty=oneline    151pd103 





# Git clean with new ignore file

11021exp039  <-- remove all cached files ( not only staged but all in repo) then add again

# Git 16 Release Operation

git tag stuff like tag, list tag etc. 

<-------need collect more 

# Git Conflict scenarios

## During merge

151pd183  <--normal merge conflict senario

11021exp022 

​                  <--screen shots, and git show can check each version !! 

​                        can checkout again after mess up the resolve editing         

## During pull 

11021exp023 

​                  <--pull conflict and merge       

## During rebase

11021exp029

​               <--conflict during rebase 

11021exp030 

​               <--conflict during rebase, we can not use reset here need to do rebase abort 

## During push

11021exp048  <-----when remote develop branch has new code from other developers, push will fail and need to merge first !!

# Git fast -forward

11021exp023 S012

# Git find old branch and advanced thing

see reflog

​    <--just want to tell you reflog has lots of information on  it 

# Git pull request

github has pull request <---case 1 

git itself seems have a pull request  <---need look into

# Git Server Solution

11021exp021 <--just use ssh , qus052 has more stuff 

11021exp023  <--seems another server side setup 

11021exp048  <---merge other branch stuff  ---real fight merge !!

11021exp049  

11021exp050 

# Git Source code

11021qus054-1-1-a

11021qus053-1-1-c   -d   <---lots of good stuff in parent folder of web [***]

git cat-file   command   <--check content from blob

git hash-object command  <--create object blob with hash

git update-index command <--put into index 

git read-tree command 

git write-tree command  <--put into git db  ( I guess like commit)

# Git Squash

git merge squash  <--case 1

git rebase -i   to do the squash   <---case 2 





# Glob Java

121pd271 <--a glob table 

11021qus029-04-1 , shows git ignore rule also follow glob , also 11021exp040 rules examples

30840exp018, 20, 30,31,32,33, 34 

# Glob Shell

10800exp009 <--match directory etc. 

# Gradle

## Data

https://stackoverflow.com/questions/44493378/whats-the-difference-between-implementation-and-compile-in-gradle

​            <---some dependencies name change

210621-1-S075 has as jvmDefaults.gradle

60066 Okey Dev Gradle 

## Exp 

11031exp003 to exp006  <---use gradle build to setup jenkins

11031exp005 <--210603  look into gradle tasks

33808exp168 non -spring

33808exp119

33808exp192 original project ?? not gradle project 

33808exp198 has all projects and subprojects in gradle setting 

33808exp216 

33808exp219  actually implemented in 11031exp003 and exp004

​             <---11031exp004 actually use gradle plugin to build docker image of  spring application

33808exp224 with some setting merging 

33808exp225  use plugins not apply plugin checked ??? not a gradle project ????

33808exp227 copying from exp224 

33808exp238 ---coming ....

60066exp003  <--morgan exercise project, junit test last example  [***]

60066qus005  <--about shareworks gradle stuff 



# Gradle upgrade gradle 

<--check 33808exp198 201121S012 around

<--check: https://www.jianshu.com/p/4eab3743fec0   how to upgrade 

 <--https://services.gradle.org/distributions/   all gradle distributions

# GraphQL

## data 

see also:  210305  30872Qus08_(05) of graphql stuff 

https://www.apollographql.com/docs/react/api/react/hooks/

​               <--this is apollo client api good we can use 

## exp and features: 

33808exp224 java and spring boot implementation <--no client,  directly query on browser so it is just backend            

33808exp227 on top of exp224 and fetch from REST api like 73066exp045 from space X 

​            <---not completed yet , exp240 done my own version

33808exp240  <---crud with mysql , very good !! 

73066exp045 express (node.js) implementation 

​            <--has home added access other endpoints

73066exp048 

​           <--both client and server apollo  with CRUD

# Guava

60066qus003-01-1-b <--mentioned ImmutableSet 

210623 <---when we do intTest use ImmutableMap.of etc. 

# H2 in memory db

11031exp003 and exp005 <---210603 look  into H2 console stuff 

33808exp126

33808exp180  <-- 

33808exp202

33808exp217

# HATEOAS

## data

Spring HATEOAS API (https://docs.spring.io/spring-hateoas/docs/current/api/index.html?org/springframework/hateoas/EntityModel.html)

## exp and features

33808exp052 basic

33808exp053 different level of hateoas

33808exp054 client



# Helm

todo:  there is a helm deployment diagram good !! 

11081exp003 <---deploy docker images to kubernete through helm charts

# Hosts file

Linux:   /etc/hosts 

​            <---33808exp332  210324 

windows:  host folder: C:\Windows\System32\drivers\etc\host  
              <--- set up own "domain" 33808Exp034_(01)



# Http Get method

156pd24 <---get msg length and compare get and post 

# Http Tracing

33808exp104 

33808exp234  <---todo

# IDEA Debug tech

right click break point call stack , then copy stack or export thread  

​                 <---check Qus030 for details; 

# Initial setup of Spring boot App

33808exp053 use command line runner

33808exp125 use command line runner 

33808exp126 <--it  use DataSourceInitializer in Configuration !!!

33808exp217 database load using sql files  exp217-(02)-1 has a link article  



# Integration Test -- RestTemplate

​             <--see also RestTemplate 

33808exp082 with post file and get entity

33808exp083 mainly get with json compare and basic authentication

33808exp179 use exchange with header settings

33808exp202 should reflect latest stuff 

##### 

# Integrated Project

see __Cutting edge in the bootom

# Interceptor

see mvc interceptor

# I18N 

<--encoding part see Encoding 

# I18N Java locale

30660exp001<--list all locale

30660exp002 <--from locale get language, country and variants

30660exp019 <---build locale with locale builder

# I18N Java locale based Currency

30660exp008 <---format currency with locale 

30660exp009 <---use locale to get currency details ( this is not about format the currency, but get currency details)

# I18N Java locale based Date format 

book145pd20 <--SimpleDateFormat is not thread safe, can use jDK8 DateTimeFormatter

30660exp010 <---locale based date format, there are several styles of date

30660exp011 <---locale based date format, there are several styles of date list all styles 

30660exp012 <---locale based date and time format with different styles

30660exp013 <---simple date format still with locale 

30660exp014 <--custom date format without locale ( I guess we can add locale later)

30660exp015 <--custom time pattern without locale ( can add locale later)

30660exp016 <--more time format stuff 

30660exp017 <--parse with simple date time 

# I18N Java locale based Number format

30660exp006 <--use locale based number format to parse and format number

30660exp007 <--NumberFormat without locale, I guess we can add it later

30660exp018 <--Decimal format without locale

# I18N Java locale based Resource bundle

30660exp003 <--locale based resource bundle 

30660exp004 <-- resource bundle and resource is from java class (List resource bundle)

30660exp005 <---resource bundle search up order 

30660exp019 <---resource bundle with locale builder







# IO Directory and file objects Java (need merge)

30840 exp examples 

33808exp082 <--FileSystemStorageService use to clean up directories 

# IO Directory and file objects Java Dir Ops (need merge)



Create Dir

​    Files.createDirectories(rootLocation);

​             <---33808exp082 , roootLocation is Path

Delete Dir

​    FileSystemUtils.deleteRecursively(rootLocation.toFile())

​                <---the source code of Utils can take a look, actually use Files.walk and visitor pattern to delete

List all files in Dir

​      <--33808exp082 FileSystemStorageService  line 57

​           Files.walk(this.rootLocation, 1)  got stream, then use filter and lambda to get pure file names



# IO Directory and file objects Java File Ops (need merge)

## Exp

### 30840exp <--lots  of examples

## The following need arrange to do any short comments

File Copy using Stream:   

​       <--33808exp082 FileSystemStorageService line 45 

​           use: Files.copy(inputStream, this.rootLocation.resolve(filename),    

​           StandardCopyOption.REPLACE_EXISTING);

​              <----this one has copy option !! 

File relative path and absolute path

​      this.rootLocation.resolve(filename)

​                 <---got absolue path  33808Exp082 FileSystemStorageService line 45

​       this.rootLocation::relativize

​                 <---extract pure file name: 33808Exp082 FileSystemStorageService line 59

File time check and compare

​      BasicFileAttributes fileAttributes = Files.readAttributes(source,   BasicFileAttributes.class);

​      FileTime ft1=fileAttributes.lastModifiedTime();

​      if (ft1.compareTo(ft2)<=0) { ...

​                   <---BPOT2098 tools class

# IO Directory and file objects Java web file ops (need merge)

```
@Service
public class FileSystemStorageService implements StorageService {

   private final Path rootLocation;

   @Autowired
   public FileSystemStorageService(StorageProperties properties) {
      this.rootLocation = Paths.get(properties.getLocation());
   }

   @Override
   public void store(MultipartFile file) {
      //file.getOriginalFilename() got: file without any prefixed foler names
      String filename = StringUtils.cleanPath(file.getOriginalFilename());
                     <---original file name should be pure file name 
      try {
         if (file.isEmpty()) {
            throw new StorageException("Failed to store empty file " + filename);
         }
         if (filename.contains("..")) {
            // This is a security check
            throw new StorageException(
                  "Cannot store file with relative path outside current directory "
                        + filename);
         }
         try (InputStream inputStream = file.getInputStream()) {
            Files.copy(inputStream, this.rootLocation.resolve(filename),
               StandardCopyOption.REPLACE_EXISTING);
                         <--copy from MultipartFile stream to local file stream
         }
      }
      catch (IOException e) {
         throw new StorageException("Failed to store file " + filename, e);
      }
   }

   @Override
   public Stream<Path> loadAll() {
      try {
         return Files.walk(this.rootLocation, 1)
            .filter(path -> !path.equals(this.rootLocation))
            .map(this.rootLocation::relativize);  <--pure filename stream 
      }
      catch (IOException e) {
         throw new StorageException("Failed to read stored files", e);
      }

   }

   @Override
   public Path load(String filename) {
      return rootLocation.resolve(filename);
   }

   @Override
   public Resource loadAsResource(String filename) {
      try {
         Path file = load(filename);
         Resource resource = new UrlResource(file.toUri()); 
                                <--wrap with UrlResource, message converter know how to do
                                   
         if (resource.exists() || resource.isReadable()) {
            return resource;            <---benefit from the wrapping
         }
         else {
            throw new StorageFileNotFoundException(
                  "Could not read file: " + filename);
    
         }
      }
      catch (MalformedURLException e) {
         throw new StorageFileNotFoundException("Could not read file: " + filename, e);
      }
   }

   @Override
   public void deleteAll() {
      FileSystemUtils.deleteRecursively(rootLocation.toFile());
   }

   @Override
   public void init() {
      try {
         Files.createDirectories(rootLocation);
      }
      catch (IOException e) {
         throw new StorageException("Could not initialize storage", e);
      }
   }
}
    <--from 33808exp082
```



# IO Directory and file objects JS 

MDN has FileReader API <--seems from 162pdxxx



# IO file content and network  Java

30310 , 30311, 30312, 30313  IO stuff  <--OCP IO Stream examples very good

30330 parsing

30332, 30333 data Stream examples here 

30820 examples here

33808exp224 GraphQLProvider line 32  

​             <--convert to Url and read from it , using guava !!, seems support class loader path supported    

# IO file content and network JS

162pd230 bottom <--there is FileReader API

​          check MDN: https://developer.mozilla.org/en-US/docs/Web/API/FileReader

​            https://developer.mozilla.org/en-US/docs/Web/API     <---seems lots of stuff here 

# IO  Formatting Java

see 30660 and IO format etc  

## Exp

### 30160exp001 to exp010  OCP good examples

​              <--with different output format control chars

### 30660exp010 to exp018 <--format output of datetime and local number etc. 

### 30333exp001  Data output

### 33808exp082  Stream Copy

​      InputStream in = resource.getInputStream()....

​      StreamUtils.copy(in, outputMessage.getBody());

​                    <----33808exp082 ResourceHttpMessageConverter

​                            use this Util the buffer size is 4096 and also will do the flush and return byte count !!!!

### 33808exp117  <---String Formatting

##### String Formatting

```
String.format("Book %s.%s", (i+1), (j+1))
```

​                <--- 33808exp117

### 33808exp186  

```
String.format("Resource accessed by: %s (with subjectId: %s)" ,
        jwt.getClaims().get("user_name"),
        jwt.getSubject());
      <---33808exp186, we shall use more this way than use string + string
          need collect other more formats
```

# IO Formatting JS

see Date time formatting JS

# IO Input Java

30330exp001 to exp005 <--using scanner string tokenizaer and stream

30332exp   Data Input

# Java 11

11031exp003 Spring Boot java version upgrade to 11 <-- 210126

​                    check again <----210603 

33808exp219  <--actually implemented in 11031exp003 and exp004

33808exp238  <---first  use java 15 in IDEA

​                                 210604: also use java 15 in command line for gradle testing 

# Java DateTime stuff 

see Date Time XXX Java

# Java thread

see thread; 

# JavaScript 

## todo: 

阮一峰老师的ES6 微博非常好

# JavaScript Ajax  

https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/onreadystatechange  

33808exp084  <--set http header

73022Exp001         <---use ajax 

73030exp013  

# JavaScript API

### Inner Object: 

Inner objects: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects

### JavaScript Guide

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide

### Web API

Web API: https://developer.mozilla.org/en-US/docs/Web/API 

https://developer.mozilla.org/en-US/docs/Web/API/Element   <--for element

https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector    <--for document

https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model/Using_dynamic_styling_information  <--change css style



# JavaScript Arrow function and this 

see Lambda and functional programming

# JavaScript Babel 

73030exp069  <--also test book162example good

# JavaScript Build In Objects

156pd24 <--main build in Objects 

# JavaScript Compile and conversion

162pd312  <---  not only babel but also there are 2 other ways to do the transpile 

# JavaScript Conventions

156pd21 <---

162pd314 <---very good, seems long explanations 

# JavaScript default values

73030exp035 app_pd013.js constructor has default value setting ; 

# JavaScript DOM and window

https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model

https://developer.mozilla.org/en-US/docs/Web/API/Document

33808exp111   <---get element by id and create element 

73030exp006 <---open new windows

73030exp012 <--confirm window

73030exp062  <--create new elements

# JavaScript element

https://developer.mozilla.org/en-US/docs/Web/API/Element

73030exp053 <--- some element stuff and prototype change and related events are looked into 

73030exp062  <--create new elements

# JavaScript  element selector

73030exp061 <--nth child

73030exp062 <--"li > p" 

# JavaScript element style control

73030exp061 <--control background color

73030exp070 <---list all styles 

# JavaScript Es6 

​    <--see Es6 new features

​     

# JavaScript Eval 

158pd25 bottom 

# JavaScript event stuff 

<--can add stuff from physical paper

158pd38 Q031 shows event target is the inner most stuff; 

158pd39 Q032  <--how event is bubbling 

159pd6 Q004  <---talked about event delegation 

159pd7 Q006  <---this point to the object which trigger the event (target??)

159pd8  Q007  <--event model 

https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener

​                <---this is for EventTarget

73030exp003, 004 <---key press event etc. 

73030exp005  <---add listener mouse down, up and mouse click

73030exp035  testDome Qus05

73030exp037

73030exp038

73030exp039 <--advanced event stuff, stopPropagation and preventDefault

73030exp042  this pointer stuff 

73030exp043 to exp045  bind   stuff 

73030exp050 <---event.stopPropagation can stop the event in capturing and bubbling phase, see also on paper

73030exp052  <---check screenshots of event in prototype chain   

73030qus049 ***

# JavaScript Fetch 

https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API/Using_Fetch

73066exp044  <--- it use Fetch 

# JavaScript function and class 

<---can add more stuff from physical paper after reading book162

​            <--what is their difference 

​             https://stackoverflow.com/questions/11970141/javascript-whats-the-difference-between-a-function-and-a-class/45759444#:~:text=There%20is%20technically%20no%20class,to%20describe%20the%20above%20practice. 

​                        <---seems they both functions,<--so function could be used as so called class which is just one usage of function !!! 

73030exp035  app_pd017.js  158pd18  <--without new , this inside function is global

73030exp035 app_pd014.js <--empty json object is an object 

73030exp035 app_pd015.js <---function is also object and can direct assign properties



# JavaScript Generator and Async

162pd102 <---arrow function can not be used as Generator function 

# JavaScript global variable

73030exp035  app_pd017.js  158pd18  <--without new , this inside function is global

73030exp035  app_pd025.js <---if not "use strict", age will be come global 

# JavaScript Jest 

see  Test JS

# JavaScript jQuery 

33808exp084 static js code is good (ajax set header)

# JavaScript JSON

see JSON processing

##  

   

# JavaScript Prototype stuff 

<---add from physical paper after reading book162

https://www.youtube.com/watch?v=4jb4AYEyhRc

​         <---clear,   see through instance . "____proto____"  , operate on Function.prototype   

​                advantage is: it could be shared by instances and could be inherited

73030qus046 

73030exp027 <---Change prototype

# JavaScript Promise

see Promise in feature center

# JavaScript  Square Bracket 

<---add stuff from physical paper

162pd114, 115 <---variable inside bracket will be calculated as property name or function name ; 

# JavaScript Storage

https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API 

https://developer.mozilla.org/zh-CN/docs/Web/API/Storage   <---with methods

https://developer.mozilla.org/zh-CN/docs/Web/API/Window/localStorage  <--gives example of remove

73030exp007 <-session storage

73030exp008 <--local storage

# JavaScript static and constructor stuff 

73030qus045-(01)-1  all design patterns , like singleton use constructor 

​                 <---do not know use constructor or direct use new functionName , what is difference ?

​                          <---https://www.educative.io/edpresso/what-is-a-constructor-in-javascript  

​                                     <---seems if not call constructor, there is a default one 

​                                     <---I guess inheritance is implemented through prototype and constructor !!! ???

73030qus045-(01)-3   design pattern code gives java similar code for factory pattern use constructor; 

73030exp035 app_pd013.js with screenshot 210323 

​              <--static can not be accessed by instance or object but by class 

​               <--add stuff in constructor or prototype could be inherited and accessed by instance or object

# JavaScript Strict mode

162pd301 <---give details of all strict mode content 

# JavaScript symbol

<--see "regex"/js part;   210417S001, S002 of book162 !! 

162pd78  <---Symbol has iterator 

162pd116 <--on the top, example for symbol usage

162pd117 <--Symbol used as property

162pd121 <---page top, symbol seems can directly define 

162pd126 <---this is main chapter for symbol !!!!!

# JavaScript third party lib

<---axios see Axios in feature center 

https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Client-side_JavaScript_frameworks



# JavaScript Type conversion

see data type xxx conversion

# JavaScript Type Script

73030qus027 

73030exp068 

# JavaScript var issues

   158pd27  <--var can be declared several times 

# JavaScript Web socket 

see websocket in feature center

# JavaScript web storage

see java script storage

# JavaScript window object 

<--should merge with something 

<--should a be special object which is the global container of other elements

73030exp051  <--windows still has Object prototype chain S004 

# JavaScript with Spring 

33808exp111   (javaScript)

# JDK Proxy

## exp and features 

32815exp002

32815exp003

32815exp004 

​             <---invocation handler

# JEST    

see Test JS

# Jenkins

## todo: 

## data: 

https://www.jenkins.io/zh/doc/book/pipeline/jenkinsfile/

​              <---stage, steps and also list env variables and secret stuff 

11031Jenkins stuff

see 60066 Okey Dev Jenkins

## exp and features

11031exp003 

​              <-----spring project setup, build and test stage, pull scm and trigger             

11031exp004 

​      <--can also push to dockerhub and deploy to aws ( to do)

# JIRA

11071Jira stuff

60066 Okey Dev Jira 

# JMS

33808exp173

33808exp242 in progress... artemis

# JNDI

​        33808exp119

# JPA 

see Spring Data JPA

# jQuery

33808exp112    (jQuery and webjars)  websocket

33808exp148  jQuery with websocket

# 





# JSON Processing Java and Database

## Data

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON   <--json api

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse    <--parse

https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify) 

152pd90 mentioned json ignore stuff can do a  test

159pd25 q38  <--basic json concepts and usage  <--list main APIs 

30862 Java support json

36000qus012    <---oracle 12 will support json 

38000Mysql  <---version 5 or 8 support json ??

60066qus003-01-1-b-1  <---mentioned REST Assured also processing JSON stuff, JsonPath, 

todo:  Spring MVC http message converter dealing with JSON we can look into source code !!

​             and also Spring JSON related annotation need look into ; 

## Exp

30862 JSON Api, several Exp including Exp001 to Exp004 typical one, then complicated ones

33808exp112 <---parse string  showGreeting(JSON.parse(greeting.body).content) 

​                              Stringify Json object JSON.stringify({'name': $("#name").val()})

33808exp144 use fastjson annotation 

​                         in WebclientDemoApplicationTests use jsonPath from webclient 

33808exp145 interceptor use ali fast json

33808exp147  <--BookControllerRestTemplateTest  test Json result 

# JSON processing JS

162pd40 <--json destruct , that means we can extract stuff from json !!

36000qus012  <--about oracle 12 json supporting 

73066qus101-03-1           react-test-render generate JSON for the component, so we can iterate through it 

​                       <----I guess how they access json might be interesting  0r source code 



73030exp044  <---JSON stringify and JSON.parse ( see below exp065) 

73030exp065 <--JSON.Stringify to convert json to String and use json.parse to get json object, use obj[content] to access object

​                 <---when we learnt the {a:1, b:2} actually construct a json object, then we know better 

73066exp048 <--convert json data to json string using JSON in js

73030exp062  <--master action, json conversion to object 

# JWT 



33808exp has many jwt stuff like 

33808exp186 jwt 

33808exp187 ??

33808exp197 ??

50216exp  has JWT examples 

util: http://calebb.net/   <--see jwt structure, can choose different algorithm

https://jwt.io/   <---need input secret and can choose algorithm 

```
33808exp136 jwt token filter
     <-- first do signup and save user info into database 
     <-- do sign in, get jwt (username as subject to generate jwt, plus some date, issuer etc.)
           and send response back to browser (javascript should use this as jwt bearer, or need manually grab it)

     <-- for non-signin/signup request with jwt (we need manually bear jwt to access the web site <--this is weird!!!!), 
           AuthTokenFilter (JwtAuthenticationFilterFilter in  50216exp008)  will extract     jwtToken , then will setup session context      

          (authentication object  is: UsernamePasswordAuthenticationToken with  details set by WebAuthenticationDetailsSource) 
      <-- also use jjwt  as tool lib to create JwtUtils 
      <--use AuthEntryPointJwt as ExceptionHandler
      <--session create policy is stateless
      <--same as 50216exp008:   use passwordEncoder to save password into database through JPA repository
```

```
50216exp008  use jjwt as jwt tool 
       <--see 33808exp136
       <--different from 33808exp136:
           ~ this is for Single Page Application, so did not set the session securityContext !!! 
           ~ this one  has AuthenticationController which could do token generate or renew (in exp136 use signin to get token only)
           ~ it has userController and explained in API.txt   (seems we never did that)
```



# Kafka

33808exp229

​    to exp232  worked finally

# Kubernetes

### todo

https://whmzsu.github.io/helm-doc-zh-cn/quickstart/using_helm-zh_cn.html

​              <--customize own helm 

### Exp and features

11008exp022 <--mongo stuff 

33808exp222  <--our own spring boot application

# Lambda and functional programming

31422exp001

31422exp002

31422exp003 <---check lambda work with its own env ;<--this is pure arrow function ( not related to stream )

31428exp001 aggregation and map reduce 

31428exp002 aggregation and map reduce  





# Lambda and functional programming JS

see 73030qus044  

156pd57

162pd100 <---super good, from definition to all examples 

7303exp025  <--use arrow function to do reduce  ( compare with normal function)

73030exp035  app_pd013.js  with screenshot 210323 <--S008 seems arrow function can not use this 

73030exp035  app_pd016.js  210323S017 <--similar to app_pod013.js, can not use arrow function here 

# LDAP

see also 50220

33808exp157

# Linux

## todo: 

how to grep  all typescript files,  .ts how to escape  \.??

gitbash how sed  windows folder name to linux one ???

## Data

60066Okey Linux setup can take a look



#   <--after all done need reorder here !!!!

# Linux Batch Loop Processing

10800exp004 <--simple loop 

# Linux Calculation

10800exp002 <---number compare

10800exp003  <--real calculation

# Linux CentOS

https://askubuntu.com/questions/55397/is-the-command-line-structure-the-same-for-linux-and-ubuntu

​           <---command line structure basically the same 

# Linux CPU 

check some alias setup

dstat ( overall)

jstack <---from most cpu  pid to get the stack trace

top

vmstat



# Linux disk

df -h  <--disk usage and mount 

du

 lsof   [***]  <--who open files， user or process open which files etc. 

# Linux Email and Ftp

10800exp011 <--real program 

# Linux flame graph

<---screen copy: 210219-1- 

perf

# Linux File and directory operations

10800exp008 find files 

10800exp009 list files  [***]

10800exp010 compare files within directories 



# Linux File Content search

10800exp006   <---find.|xargs grep xxx 

# Linux Java application

32055 Arthas 

# Linux jvm

  see 32050

# Linux memory

check some alias setup

dstat -m 

free -m <-- list memory stuff

jmap  <---- 155pd6 for java object instance numbers 

top

vmstat

# Linux networking checking

brctl  <--show network bridge

dstat -socket    

iptables

lsof -i     <--also show some network stuff !!!, 

​               <--can list active ports, open ports 

netstat   <--see all listen port, process, all tcp etc.  many options       

​                   see all connections, tcp/upd connections etc.            

nslookup   <--- domain name to ip or ip to domain name

tcpdump <----dump network traffic and use wirshark etc. to analyze 

traceroute  <--can get hops to a destination

# Linux Performance  Overall

see also Linux CPU, Linux Disk, Linux Memory, Linux Jvm

<---add:  jvm profiler ,  and jvm commands

<----32055 arthas

app log 

chrome performance tool ( see below)

tcpdump, 

wireshark  

jmeter

see also: 210219-1-   screen copy:  

see also: 210219-2  screen copy:   flame graph, perf etc.  chrome performance tool 

see also Linux flame graph  <--perf, dtrace etc. 

see also actuator,  app log, 



# Linux process

169pd11  <---list all process states,  need more examples

32050 jps <---list all java processes 

dstat -p 

ps

ps -aef --forest  <---

pstree <--command give the whole tree 

# Linux Program structure

10800exp007  <--spawn, include modules , input parameters etc. 

10800exp011  real production

10800exp012  real production 

10800exp013 real production <---tee and log files 

# Linux daily ops resources <---need split cheat sheets into Exp and will be referenced here !! like regex, find files, grep content etc. 



merge 10800 cheat sheet as well ( wrap with exp) 

35000cheat sheet 01 <--- logical ops and calculation

35000cheat sheet 01a <--- more number, char and number comparison

35000cheat sheet 02 <---batch files and different signs like dollar signs etc. 

35000cheat sheet 13 

# Linux setup Network 

10800exp014  <---setup static IP address for CentOS

10800qus030 <---setup static ip address for  Ubuntu

# Linux Setup Network enable ssh service 

sudo systemctl status ssh      <--this is check
sudo apt install openssh-server

​           <---10800exp015 for passwordless ssh

# Linux Setup Network static ip address

```
billy@billy-VirtualBox:/etc/netplan$ cat 01-network-manager-all.yaml
network:
  version: 2
  renderer: NetworkManager
  ethernets:

      enp0s3:
              dhcp4: no
              dhcp6: no
              addresses: [192.168.1.100/24,]
              gateway4: 192.168.1.254
              nameservers:
                      addresses: [8.8.8.8,8.8.4.4]   
                      
billy@billy-VirtualBox:sudo netplan apply <---apply  above  setting
```

   <--check screen shot: D:\Backup\PM1000\Billydev080107\MyEnabil\170424-1-AllScreenCopiesBPOT\191027-1-10800Qus030

  <---see Qus030

10800exp014 <--this is for centOS static ip address setup 

# Linux Setup Profile



vim .profile 

source .profile

```
alias lrt="ls -lrt"
      <---.profile sample
```

10800exp016  <---this is new one, should be better 

10800qus035 <---todo lots of good thing there

# 



# Linux Setup Software installation

## Exp and features  

10800Qus010  

​    sudo apt install docker.io

​             <----  might need: sudo rm /var/lib/dpkg/lock    <---kill lock

​              <--- might  need:     ps -A |grep apt   , then  :   kill -9 522 602 1766 (listed processes) 

# Linux Setup SSH passwordless 

10800exp001 <--ssh for windows passwordless login

# Linux Setup sysctl.conf

#     <---need to collect more examples

```
root@billy-VirtualBox:/etc# diff sysctl.conf sysctl.conf_origin_210207
78,79d77
< #
< net.ipv4.tcp_fin_timeout = 30
     <--33808exp221
```



# Linux Setup User Add User  

adduser   <-- see 10800  linux Okey  command

# Linux Special Sign

see speical sign in 10800 Okey  _Special Sign 

10800exp005 about dollar sign

# Linux String Ops

10800exp002 <--String pattern match

10800exp006  <--all about string processing

# Linux thread 

32050 jstack <---can anlyze 

32055 arthas  thread -n 3 list threads

dstat

top -Hp <---

# Linux System info

lsb_release -a  <---give linux name , release and code name 

uname -r  <--list kernel version

# Linux Zip and Move files

10800exp012 

# Load Balance

33808exp211

# Load Test

see Performance in Feature center



# Logical Ops

30150exp001 to exp006 good examples for OCP

# Logging MDC

33808exp143

# Logging Log4j configuration

33808exp155 

33808exp217

# Logging Logback configuration

33808exp047 logback stuff 

33808exp067  logback configuration

33808exp110 

33808exp111 applicatin.properties has console logging pattern and log level setting

33808exp143 MDC

33808exp149 logback configuration with file appender logback-spring.xml setup and logging pattern etc. 

Logback format string

```
log.info("{} row(s) inserted for student entity", rowNumInserted);
     <---{} is String format is better then use %s etc. 
```

​                 <-- https://examples.javacodegeeks.com/enterprise-java/slf4j/slf4j-format-string-example/



# Logging Slf4j (in lombok)

33808exp053



# Lombok

 33808Exp053, 

33808Exp130

33808Exp132 @Data, @Builder

33808Exp145

33808Exp146, 

33808exp217 lots of stuff

# Maven pack to big jar

33808exp180 <-- pack front end and back end into one big jar [***]

33808exp203 

# Maven Properties

33808exp217

# Mock MVC <---need merge with Test Spring java ??

33808exp047 seems with form key/value pair submit and model and view check and result check

33808exp082 multipart, throw exception,

33808exp083

33808exp115

33808exp176  good crud test stuff

33808exp202 with header and locale setting

# Luban Turing project



33808exp019  luban class room example

33808exp030 eureka

33808exp031 distributed transaction

33808exp033 cloud

33808exp034eureka working

33808exp035  eureka ribbon 

33808exp040  redis and security real example

# Master Action JS

73030exp061 <--js overall 

# Master Action Oracle

36000exp019 <--connect by to make hierarchy

36000exp022 <---use connect by to create data 

# Math

see Number calculation

# Maven

33602exp001-exp006 <-some concept, last 2 only screen copies





# MongoDB

33808exp110

33808exp175

33808exp176 

# MVC

see spring mvc

# MyBatis

<--we might need a BLIB number of MyBatis??

33808exp009

33808exp032

33808exp133 datasource configuration with pool, collection join

33808exp202

bpot2123 vhr

# MySQL as DB for Spring ( might make it generic mysql)

30880 exp022 to exp024  <---might add later

33808exp119

33808exp124

33808exp133 use MyBatis

33808exp136 style from Postgre

33808exp200 JPA

33808exp211 JPA

73066exp048  

​         <--it has mysql phpMyAdmin  SQL Dump, session setting 

​            https://dev.mysql.com/doc/refman/5.7/en/set-variable.html  <--about set stuff 

# Nested Class

30780exp  <--some threads use it 

31420 exp 

<----need to collect more scenarios including in spring 

# Networking

10800 linux network commands

30820exp <--java tcpip exps 

51602 tcp ip

51606 SSL

73080 http 

73085 wire shark

# Nginx

33808exp036

33808exp211 linux version nginx

33808exp212 nginx ssl 

33808exp218 nginx with reactjs from exp180

# NPM

NPM Modules info

npm list  --g     or npm list --global    <---check Qus05 ,the result of this is too big 
npm list  --depth=0      or  npm list --g  --depth=0    <----
npm list -g|find/I  "create-React"     <----this is for DOS and find out within the result of the lis

# Number calculation Java

30120exp001 to exp011 good examples

# Number Calculation JS

162pd70 <--list new functions, others check MDN

# Number Calculation Shell Script



# Oauth2

33808exp084

33808exp093/094

33808exp187 keycloak as authorization server

# OIDC

33808exp187

33808exp205

# Operator Java

### 30120exp <--including bitwise

### 30150exp  <--logical operators

### 30152exp  <--relational operatos

# Oracle Database 12

36000qus017

# Oracle Database distributed system and sharding

36000qus016 <--

# Oracle Database Execution Plan

see SQL explain plan and optimization

# Oracle database get table definition

<---seems describe only available in sqlplus,  then  get table meta data seems important now

36000exp032  <--in setup.sql we need check meta data 

# Oracle database get all tables and dba query

36000exp007  <--some dba query

36000exp026  <---S005 gives table description using internal packages !!

36000exp029 <--- 210511 S020  table used space check (2-f);  tablespace check (2-c) ; 



# Oracle database Java and Spring Project

32606exp003 ... in processing ...

33808exp237 

# Oracle database Lock

there is a question for this ...

need exp

# Oracle database packages and procedure

36000qus009-1-1 also list common internal packages 

​              <---36000exp026-01-1-b gives the query to get all packages , S004 gives all packages !!! 

36000exp004  <---this is old style stored procedure , we might need merge to exp026 etc. 

36000exp026 create and run procedure , also list all package S004 

# Oracle Database setup

### exp and features

36000exp006 <---create new schema , from login as root, su oracle etc. 

36000exp007  <--check meta data etc. 

36000exp024  <---tns setup, idea connection in virtual box 

33606exp022  <--setup data for experiments

33606exp029  <---Setup datause connect by (level) and multiple table join with random function  to populate big data  !!!

36000exp027  <--oracle directory structure

36000exp029 <---check tablespace, increase table space , execute dba privilege query in sqlplus

# ORM

see MyBatis 

see MySQL 

see Spring Data JPA

see  Data types java to&from database in Feature Center

# Parallel Running

33808exp211 210118 for nginx test

# PasswordEncoder

33808exp136 use encrypt user password before save to database

50216exp008 use before save user into database

# Performance and architecture

10502qus005_01_2  <---taobao architecture 

33808qus145 <---about spring cloud stuff (consider together with taobao architecture)

50300qus007 <--it has data for daily server/redis/db throughput stuff 

73066 <--react js advanced guide has performance stuff as well 

## exp and features

33808exp114

33808exp115

33808exp152  <--advanced load test

33808exp203 

33808exp221 load test with hikari connection pool end up with network capacity issue

33808exp225 <---sticky session or Distributed Session with Redis 

33808exp226 <--- use Spring data Redis as cache

38000exp015 <--MySQL replication

BPOT2123 vhr <--- example of RabbitMQ , it could be example to use Rabbit to cut peak load

# Postgres as DB

33808exp187 within docker compose file 

33808exp217 postgres in memory db

33808exp220 coping from exp217 with postgres  in docker 

# Production Ready Code Java

Spring actuator  <---see 

### Coding best practice: <------------the following need to arranged and just reference to book145 or some index NO details here !!!!

```
OVERALL： 

     Code convention must be strictly followed, this is training of a new way of thinking; 
      names need think and think； 

Details： 

1 Logging the most important thing for the info

    debug stuff use debug logging level ; 
    
    logging information must have specific information for this domain like concrete path name etc. 
    
    logging information must begin with upper case character; 

2 info.md for all projects
```

#### Coding comments

##### From Book 145

1【强制】类、类属性、类方法的注释必须使用Javadoc规范，使用/**内容*/格式，不得使用// xxx方式。 说明：在IDE编辑窗口中，Javadoc方式会提示相关注释，生成Javadoc可以正确输出相应注释；在IDE中，工程调用方法时，不进入方法即可悬浮提示方法、参数、返回值的意义，提高阅读效率。

​       <--(1) setting /editor/copyright profile to setup copy right and alt+insert to add copy right

​       <-- (2) use: " /** return "  to add comments   ( not use ctl+/)

​      <---(3) follow line 143, MockMvc.java in 33808exp083

​                 then in line 49 of BookControllerTest.java, mouse over the class and method get information; 

​           <---@author

​                 @since   <---use only major and minor version  ( not include revision)

​           <---TODO: use  link in  "@param" and "@see also"  ( we try one and leave the other  for the future)

​      <--- (4) seems: length of comments is 80 

​       <---(5) follow line 30 of WebMvcProperties class in 33808Exp083 for  properties class

​                     <----comments for private properties as well !! 

​                              format properties  need to give examples like date format

​                     <---- no need to put comments on getter and setters

​                      <----seems nested inner class need no comments 

2【强制】所有的抽象方法（包括接口中的方法）必须要用Javadoc注释、除了返回值、参数、异常说明外，还必须指出该方法做什么事情，实现什么功能。 说明：对子类的实现要求，或者调用注意事项，请一并说明。

3【强制】所有的类都必须添加创建者和创建日期。 说明：在设置模板时，注意IDEA的@author为`${USER}`，而eclipse的@author为`${user}`，大小写有区别，而日期的设置统一为yyyy/MM/dd的格式。 正例： /**

* @author yangguanbao

* @date 2016/10/31

  4【强制】方法内部单行注释，在被注释语句上方另起一行，使用//注释。方法内部多行注释使用/* */注释，注意与代码对齐。

​          <---- seems inner can use // to multiple line comments :

​                     line 616,  655 DispatcherServlet.java in 33808exp083

​                    line 511 DefaultListableBeanFactory  in 33808exp083

​           <---so we use // for all cases

5【强制】所有的枚举类型字段必须要有注释，说明每个数据项的用途。

6【推荐】与其“半吊子”英文来注释，不如用中文注释把问题说清楚。专有名词与关键字保持英文原文即可。 反例：“TCP连接超时”解释成“传输控制协议连接超时”，理解反而费脑筋。

7【推荐】代码修改的同时，注释也要进行相应的修改，尤其是参数、返回值、异常、核心逻辑等的修改。 说明：代码与注释更新不同步，就像路网与导航软件更新不同步一样，如果导航软件严重滞后，就失去了导航的意义。

​             <---for the method use /** and return it will create  @param,  @return , @throws automatically 

8【推荐】在类中删除未使用的任何字段、方法、内部类；在方法中删除未使用的任何参数声明与内部变量。

9【参考】谨慎注释掉代码。在上方详细说明，而不是简单地注释掉。如果无用，则删除。 说明：代码被注释掉有两种可能性：1）后续会恢复此段代码逻辑。2）永久不用。前者如果没有备注信息，难以知晓注释动机。后者建议直接删掉即可，假如需要查阅历史代码，登录代码仓库即可。

10【参考】对于注释的要求：第一、能够准确反映设计思想和代码逻辑；第二、能够描述业务含义，使别的程序员能够迅速了解到代码背后的信息。完全没有注释的大段代码对于阅读者形同天书，注释是给自己看的，即使隔很长时间，也能清晰理解当时的思路；注释也是给继任者看的，使其能够快速接替自己的工作。

11【参考】好的命名、代码结构是自解释的，注释力求精简准确、表达到位。避免出现注释的一个极端：过多过滥的注释，代码的逻辑一旦修改，修改注释又是相当大的负担。 反例：
// put elephant into fridge
put(elephant, fridge);
方法名put，加上两个有意义的变量名elephant和fridge，已经说明了这是在干什么，语义清晰的代码不需要额外的注释。

​        <--I guess public methods and class still need comments 

12【参考】特殊注释标记，请注明标记人与标记时间。注意及时处理这些标记，通过标记扫描，经常清理此类标记。线上故障有时候就是来源于这些标记处的代码。

 1） 待办事宜（TODO）:（标记人，标记时间，[预计处理时间]） 表示需要实现，但目前还未实现的功能。这实际上是一个Javadoc的标签，目前的Javadoc还没 有实现，但已经被广泛使用。只能应用于类，接口和方法（因为它是一个Javadoc标签）。 

2） 错误，不能工作（FIXME）:（标记人，标记时间，[预计处理时间]） 在注释中用FIXME标记某代码是错误的，而且不能工作，需要及时纠正的情况。



#### Coding Rules

##### Naming convention

​       <---from book145,only list something need attention: 

常量命名全部大写，单词间用下划线隔开，力求语义表达完整清楚，不要嫌名字长。 正例：MAX_STOCK_COUNT / CACHE_EXPIRED_TIME 反例：MAX_COUNT / EXPIRED_TIME

​                <---so here we have to use underline

抽象类命名使用Abstract或Base开头；异常类命名使用Exception结尾；测试类命名以它要测试的类的名称开始，以Test结尾。

​              <---need a practice

POJO类中的任何布尔类型的变量，都不要加is前缀

​             <--- good 

包名统一使用小写，点分隔符之间有且仅有一个自然语义的英语单词。包名统一使用单数形式，但是类名如果有复数含义，类名可以使用复数形式。 正例：应用工具类包名为com.alibaba.ei.kunlun.aap.util、类名为MessageUtils（此规则参考spring的框架结构）

​               <---it looks ok to have long package name !! 

​                <--again: the most important is : all lower cases

【推荐】为了达到代码自解释的目标，任何自定义编程元素在命名时，使用尽量完整的单词组合来表达。

正例：对某个对象引用的volatile字段进行原子更新的类名为AtomicReferenceFieldUpdater。

​            <--- it is good to reflect volatile in variable name !! 

【推荐】在常量与变量的命名时，表示类型的名词放在词尾，以提升辨识度。 正例：startTime / workQueue / nameList / TERMINATED_THREAD_COUNT 反例：startedAt / QueueOfWork / listName / COUNT_TERMINATED_THREAD

​             <---need some practice 

【推荐】如果模块、接口、类、方法使用了设计模式，在命名时需体现出具体模式。 说明：将设计模式体现在名字中，有利于阅读者快速理解架构设计理念。 正例： public class OrderFactory; public class LoginProxy; public class ResourceObserver;

​              <---ok, good to have design pattern in the name 

【推荐】接口类中的方法和属性不要加任何修饰符号（public 也不要加），保持代码的简洁性，并加上有效的Javadoc注释。

尽量不要在接口里定义变量，如果一定要定义变量，确定与接口方法相关，并且是整个应用的基础常量。 

正例：接口方法签名 void commit(); 接口基础常量 String COMPANY = "alibaba"; 

反例：接口方法定义 public abstract void f(); 说明：JDK8中接口允许有默认实现，那么这个default方法，是对所有实现类都有价值的默认实现。

​                    <---- good to learn more stuff about interface

接口和实现类的命名有两套规则： 

1）【强制】对于Service和DAO类，基于SOA的理念，暴露出来的服务一定是接口，内部的实现类用Impl的后缀与接口区别。 

正例：CacheServiceImpl实现CacheService接口。 

2）【推荐】如果是形容能力的接口名称，取对应的形容词为接口名（通常是–able的形容词）。 

正例：AbstractTranslator实现 Translatable接口。

​                          <----really good to learn the second one and Impl is a standard now !!

【参考】枚举类名带上Enum后缀，枚举成员名称需要全大写，单词间用下划线隔开。 说明：枚举其实就是特殊的常量类，且构造方法被默认强制是私有。 

正例：枚举名字为ProcessStatusEnum的成员名称：SUCCESS / UNKNOWN_REASON。

​                    <---need a try 

【参考】各层命名规约： 

A) Service/DAO层方法命名规约 

1） 获取单个对象的方法用get做前缀。 

2） 获取多个对象的方法用list做前缀，复数结尾，如：listObjects。 

3） 获取统计值的方法用count做前缀。 

4） 插入的方法用save/insert做前缀。 

5） 删除的方法用remove/delete做前缀。 

6） 修改的方法用update做前缀。

B) 领域模型命名规约

1） 数据对象：xxxDO，xxx即为数据表名。

 2） 数据传输对象：xxxDTO，xxx为业务领域相关的名称。 

3） 展示对象：xxxVO，xxx一般为网页名称。 

4） POJO是DO/DTO/BO/VO的统称，禁止命名成xxxPOJO。

​          <----this one need some observation

##### Constants

【强制】不允许任何魔法值（即未经预先定义的常量）直接出现在代码中。

​            <--I will extract all these stuff into a package

【强制】在long或者Long赋值时，数值后使用大写字母L，不能是小写字母l，小写容易跟数字混淆，造成误解。 说明：Long a = 2l; 写的是数字的21，还是Long型的2？

​           <---long must use big L

【推荐】不要使用一个常量类维护所有常量，要按常量功能进行归类，分开维护。 说明：大而全的常量类，杂乱无章，使用查找功能才能定位到修改的常量，不利于理解，也不利于维护。
正例：缓存相关常量放在类CacheConsts下；系统配置相关常量放在类SystemConfigConsts下。

​                <---seems spring put constants in beginning of class : line 24 in AsyncContext 33808exp083

​                     I think I can follow Spring as constants with class make sense, but for those need to be 

​                    configured or need to be customized, put in a package called customize 

【推荐】常量的复用层次有五层：跨应用共享常量、应用内共享常量、子工程内共享常量、包内共享常量、类内共享常量。

​             <--use different layer of constants , make sense 

##### Code format 

【强制】左小括号和右边相邻字符之间不出现空格；右小括号和左边相邻字符之间也不出现空格；而左大括号前需要加空格。详见第5条下方正例提示。 反例：if (空格a == b空格)

​             <---looks better than myself 

【强制】if/for/while/switch/do等保留字与括号之间都必须加空格。

​             <---ok, follow it, learnt 

【强制】任何二目、三目运算符的左右两边都需要加一个空格。 说明：包括赋值运算符=、逻辑运算符&&、加减乘除符号等。

​           <---ok, my original "+" seems not have space !!

【强制】采用4个空格缩进，禁止使用Tab字符。
说明：如果使用Tab缩进，必须设置1个Tab为4个空格。IDEA设置Tab为4个空格时，请勿勾选Use tab character；而在Eclipse中，必须勾选insert spaces for tabs。

​               <---agree

```
正例： （涉及1-5点）
public static void main(String[] args) {
    // 缩进4个空格
    String say = "hello";
    // 运算符的左右必须有一个空格
    int flag = 0;
    // 关键词if与括号之间必须有一个空格，括号内的f与左括号，0与右括号不需要空格
    if (flag == 0) {
      System.out.println(say);
    }
    // 左大括号前加空格且不换行；左大括号后换行
    if (flag == 1) {
      System.out.println("world");
    // 右大括号前换行，右大括号后有else，不用换行
    } else {
      System.out.println("ok");
     // 在右大括号后直接结束，则必须换行
    }
}
```

【强制】注释的双斜线与注释内容之间有且仅有一个空格。
正例： // 这是示例注释，请注意在双斜线之后有一个空格
String commentString = new String();

​              <--just followed

【强制】在进行类型强制转换时，右括号与强制转换值之间不需要任何空格隔开。
正例： double first = 3.2d; int second = (int)first + 2;

​              <--ok

【强制】单行字符数限制不超过120个，超出需要换行，换行时遵循如下原则： 

1）第二行相对第一行缩进4个空格，从第三行开始，不再继续缩进，参考示例。 

2）运算符与下文一起换行。 

3）方法调用的点符号与下文一起换行。 

4）方法调用中的多个参数需要换行时，在逗号后进行。 

5）在括号前不要换行，见反例。

```
正例：
  StringBuilder sb = new StringBuilder();
  // 超过120个字符的情况下，换行缩进4个空格，并且方法前的点号一起换行
  sb.append("yang").append("hao")...
      .append("chen")...
      .append("chen")...
      .append("chen");
反例：
  StringBuilder sb = new StringBuilder();
  // 超过120个字符的情况下，不要在括号前换行
  sb.append("you").append("are")...append
  ("lucky");
  // 参数很多的方法调用可能超过120个字符，逗号后才是换行处
  method(args1, args2, args3, ...
  , argsX);
```

​         <---good to learn, check: line 255, 250 of HttpServlet3RequestFactory in 33808exp083

【强制】方法参数在定义和传入时，多个参数逗号后面必须加空格。 

正例：下例中实参的args1，后边必须要有一个空格。
method(args1, args2, args3);

​                   <---good to learn, seems trying to make "operator" and "," more graceful !!

【强制】IDE的text file encoding设置为UTF-8; IDE中文件的换行符使用Unix格式，不要使用Windows格式

​         <--- IDEA:  Settings/Editor/File Encoding  

​                 3 global encoding, project encoding and properties encoding setting  for UTF-8

​         <---Settings/Editor/Code Style/right pane/Line separator  <---120 char per line also here !!    

【推荐】单个方法的总行数不超过80行。 说明：除注释之外的方法签名、左右大括号、方法内代码、空行、回车及任何不可见字符的总行数不超过80行。 正例：代码逻辑分清红花和绿叶，个性和共性，绿叶逻辑单独出来成为额外方法，使主干代码更加清晰；共性逻辑抽取成为共性方法，便于复用和维护。

​                     <--- this need a think

【推荐】不同逻辑、不同语义、不同业务的代码之间插入一个空行分隔开来以提升可读性。 说明：任何情形，没有必要插入多个空行进行隔开。

​              <---I seems use too much empty lines 

#####   OOP convention

【强制】所有的覆写方法，必须加@Override注解。 说明：getObject()与get0bject()的问题。一个是字母的O，一个是数字的0，加@Override可以准确判断是否覆盖成功。另外，如果在抽象类中对方法签名进行修改，其实现类会马上编译报错。

​           <---2 advantages, ok follow it 

【强制】相同参数类型，相同业务含义，才可以使用Java的可变参数，避免使用Object。 说明：可变参数必须放置在参数列表的最后。（建议开发者尽量不用可变参数编程） 正例：public List<User> listUsers(String type, Long... ids) {...}

​            <---try not use variable arguments

【强制】外部正在调用或者二方库依赖的接口，不允许修改方法签名，避免对接口调用方产生影响。接口过时必须加@Deprecated注解，并清晰地说明采用的新接口或者新服务是什么。

​           <---good !! 

【强制】不能使用过时的类或方法。

​            <----try to avoid this and learn new stuff 

【强制】Object的equals方法容易抛空指针异常，应使用常量或确定有值的对象来调用equals。 

正例："test".equals(object); 

反例：object.equals("test"); 

说明：推荐使用JDK7引入的工具类java.util.Objects#equals(Object a, Object b)

​                    <---ok, learn a new stuff 

【强制】所有整型包装类对象之间值的比较，全部使用equals方法比较。 说明：对于Integer var = ? 在-128至127之间的赋值，Integer对象是在 IntegerCache.cache产生，会复用已有对象，这个区间内的Integer值可以直接使用==进行判断，但是这个区间之外的所有数据，都会在堆上产生，并不会复用已有对象，这是一个大坑，推荐使用equals方法进行判断。

​              <---this is sth  IT group discussed

【强制】任何货币金额，均以最小货币单位且整型类型来进行存储。

​               <--good

【强制】浮点数之间的等值判断，基本数据类型不能用==来比较，包装数据类型不能用equals来判断。 说明：浮点数采用“尾数+阶码”的编码方式，类似于科学计数法的“有效数字+指数”的表示方式。二进制无法精确表示大部分的十进制小数

```
正例： 
(1) 指定一个误差范围，两个浮点数的差值在此范围之内，则认为是相等的。 float a = 1.0F - 0.9F;
float b = 0.9F - 0.8F;
float diff = 1e-6F;
if (Math.abs(a - b) < diff) {
System.out.println("true");
} 
(2) 使用BigDecimal来定义值，再进行浮点数的运算操作。
BigDecimal a = new BigDecimal("1.0");
BigDecimal b = new BigDecimal("0.9");
BigDecimal c = new BigDecimal("0.8");
BigDecimal x = a.subtract(b);
BigDecimal y = b.subtract(c);
if (x.compareTo(y) == 0) {         <---do not use equals as it will compare the precision as well
System.out.println("true");
}                      <---good to learn big decimal 
```

【强制】如上所示BigDecimal的等值比较应使用compareTo()方法，而不是equals()方法。 说明：equals()方法会比较值和精度（1.0与1.00返回结果为false），而compareTo()则会忽略精度。

​           <--very good to learn 

【强制】定义数据对象DO类时，属性类型要与数据库字段类型相匹配。 

正例：数据库字段的bigint必须与类属性的Long类型相对应。 

反例：某个案例的数据库表id字段定义类型bigint unsigned，实际类对象属性为Integer，随着id越来越大，超过Integer的表示范围而溢出成为负数。

​             <---we need to do example for this 

## exp and features

30012exp042  <---need the given node is empty or not , or NPE 

30012exp050  <--when insert need to check if previous node 

33808exp082  <-- user upload file need to check if empty in FileSystemStorageService

​     <---need input stuff from paper 

​      <--PRINCIPLE is:   let the user know what happened !!  

​                                      if what feed wrong, they know how change    ( this is why user input important);   

​                                      if error happened within the running, then people need to know what happened, 

​                                             what is the root cause and how to deal with that ; 

​                    DO NOT: give detailed lower level information which might not useful to users , they go to log 



# Production ready code JS

159pd20 <---list rules 

73066exp064 <--advanced code like scss code 

# Program Structure  need to merge 30180 examples

### if then else

#### js

158pd42 q35 <--only 6 false:  undefined, null, Nan, "",0, false

162pd177 <--talking a bit about === during set operation

73030exp011 <--check undefined and defined 

73030exp026  <--- tell number  === and == difference 

73030exp035 codeDome qus001 gives undefined comparison stuff 

# Program Structure Loop Java





# Program Structure Loop JS

156pd57 <-- explain forEach, for of  for in stuff 

162pd45 <--for of loop can get the codepoint which is bigger than 0xFFFF 

162pd179 <--for loop of set 

162pd186 <--for of loop of Map 

73030exp025  <--forEach example 

73030exp061 for..of loop to go through array



# Profile 

33808exp066

33808exp147 setup dev profile stuff

33808exp202 <---for dev and production different profiles 

# Promise and Async

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise  



162pd236 <---systematic introduction, good 

73030exp018 to exp024 <-- 

73030exp020 around  <--mom phone example 

73030exp063  <--using Promise to wrap ajax code super good !!!!

73030exp065 chained promise, super super good!!!!

73030exp066  async function

73030exp067  async function parallel



# RabbitMQ

147pd179 

33808exp156

bpot2123 vhr



# ReactJS

## Todo:  

how to support stream ???

​         https://blog.bitsrc.io/how-to-render-streams-with-react-8986ad32fffa    <--bit lib ??

​        https://www.linode.com/docs/guides/build-react-video-streaming-app/ 

## data: 

https://reactjs.org/docs/react-api.html

​       <---this is top level API 

https://reactjs.org/docs/react-dom.html#render

​          <--ReactDOM reference, seems this is another top level API 

https://babeljs.io/repl/#?browsers=defaults%2C%20not%20ie%2011%2C%20not%20ie_mob%2011&build=&builtIns=false&corejs=3.6&spec=false&loose=false&code_lz=GYVwdgxgLglg9mABACwKYBt1wBQEpEDeAUIogE6pQhlIA8AJjAG4B8AEhlogO5xnr0AhLQD0jVgG4iAXyJA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=true&presets=react&prettier=false&targets=&version=7.14.3&externalPlugins=

​          <---this is online babel compiler 

## exp and features

11008exp023 reactjs IDEA setup

33808exp180 with webpack and front end plugin

​        <---first page and api access need session login

​        <--use deprecated ReactDom.findDOMNode to pass in the user input

​        <---update use "modalDialog" css 

33808exp209  reactjs webpack build

33808exp210 reactjs webpack build

73066exp016 <--basic one

73066exp044 <--for BPOT2117

73066exp045 IDEA reactjs and graphQL

73066exp046 redux official tutorial with connect

73066exp047  use redux toolkit and CRUD

73066exp048 use apollo to implement both client and server

​           <--

# ReactJS API Access

## exp and features

73030exp020 

​              <---Fetch will return Promise(73066exp044 fakebackend), or create a new Promise here

​                    Promise is just an implementation of some async task, then it will call the callback hook

​                     put hook ( resolve or reject)  ahead of time !! 

73030exp022

​             <--Promise chain which could further handle the result of the first resolver stuff ; 

73066exp044 

​             <--fetch and handle response,  use promise chain like 73030exp022

​             <--it has fakebackend which override window.fetch,  index.js has the switch to fakebackend

 

73066exp047 

​             <--it use AsyncThunk to access API  using fetch 

​                   it use await and get 

73066exp048 <--it use 

73066exp052  <--small one 

# ReactJS Build

### todo: 

??73066exp057 try build and deployed to 33808exp112 failed

## exp and features:

33808exp180  

​                    <--use maven frontend plugin 

33808exp???  graphQL application directly build stuff and deployed to server; 

​                    <--check the built js and html , it use create react app stuff 

# ReactJS Custom Components

73066exp064  to exp068  build component

73066exp069  demo to use the component

# ReactJS Event

## data: 

https://reactjs.org/docs/events.html

## exp and features:

# ReactJS Import 

## exp and features

73066exp050 <--- import React from 'react'

# ReactJS Pattern Context API



# ReactJS Pattern HOC

## exp and features: 

73066exp050 <--use own HOC function to wrap component

# ReactJS Pattern Hooks

## data: 

https://reactjs.org/docs/hooks-reference.html#usecontext 

## exp and features:

73066exp047 

​         <--Hook from GraphQL Edit user use hooks to handle the user input (useSelect to get state and useState to handle)



73066exp048  

​         <--Hook from Redux , apollo client use hooks, useQuery etc. are hooks as well 

73066exp051 

​         <---useState hook works ok 

73066exp052 

​         <--useEffect hook

73066exp053 

​          <--our own hook

73066exp054 (not completed )

​          <--own hook to use axios

73066exp055

​         <-- d3  stuff using react js hook

73066exp056 

​         <--we need a d3 hook here and do more abstraction 

73066exp057 

​          <--our own hook to access websocket 

# ReactJS Pattern Render Prop

73066exp062  <---basically mouse can move, need to improve 

# ReactJS Performance 

## todo: 

73066exp057 originally created file has reportWebVitals();  210330S013 

# ReactJS Redux

## exp and features

73066exp046 redux official tutorial with connect

​       <---use HOC , selector are used within connect ,action are passed through connect 

​              <---seems this is the difference between HOC and Hooks ( 73066exp047)

​      <---within reducer, many rest/spread can not understand 

​       <---store is created in traditional way which is createStore with combined root reducer

73066exp047  use redux toolkit and CRUD

​        <--use Hooks

​        <--it has sliced reducers 

​        <--useSelector ( I guess it is a hook to pass user state into editor component)

​         <--use Router to switch to Editor 

​         <--in Editor when user do input, it use useState hook to handle the user input 

​               and state is got from selector 

​        <--slice has state , entities and loading , export 2 things

​        <---use async thunk to access API 

73066exp063  <--following exp047 with my own data        

# ReactJS  Ref 

## exp and features

73066exp049  <--ref stuff collection

73066exp055 

73066exp057 <---D3 use ref  to work on native element, it use ref element server side handle, then .current 

# ReactJS Router

## exp and features: 

73066exp044 <---use router the render complicated GUI stuff 

73066exp045 <--- launch has match.props passed in, need check ???

73066exp047 

​          <--redux application also use router to switch the gui stuff 

​          <--actually use router switch !!

​           <---in App.js "Route" tag set path, then inside UserList.jsx to use "Link" to Path (when button click)



# ReactJS Security

## exp and features

73066exp044 

   <-- use BehaviorSubject to wrap LocalStorage 

​         then use get and subscribe 2 ways to get currentUser 

  <--display need "session"  which is subscribed or get from localStorage 

​      during login time, jwtToken can be renewed 

  <--it has login and logout which deal with the localStorage !! 



# ReactJS SmallSet of tech

## exp and features

73066exp046 use constants



# ReactJS Spinner Display

## exp and features

73066exp048   <--app.js  

73066qus106_[03]_1 34:12   

# React JS ReactStrap ( css for react)

73066exp048 <--card series stuff including spinner cool !!

# ReactJS Ref

73066exp049  <--we use different ways to do the ref

# ReactJS Test

see Test ReactJS

# React JS With Spring 

33808exp180     (react.js integration)

# Reactor(mono/flux)

​         33808exp150, 

​         33808exp189 simple 3 debug options ,

​         33808exp190 production ready debug

​         33808exp191 reactor debug spring boot

33808exp223 with IDEA debug

# Reactor (debug)

## data: 

3 ways to debug: 

​    Use IDEA debug method which will gives the hint in call stack, exp187, exp223 ; 

​    33808exp187  break in line 9911 Flux.java 

​                  <--when each assembly chain setup, we can see the source 

​                  <--33808exp189 also tried 

​    traditional ( not IDEA) reactor debug:  33808exp189,  33808exp190, exp191

​                  <--hooks on Operator Debug;  Checkpoint and log !! 

## Exp:

-javaagent:C:\Users\Billy\.m2\repository\io\projectreactor\reactor-tools\3.4.0\reactor-tools-3.4.0.jar

​            <---use this as jvm paramter (if we not use IDEA Ultimate)  <--TODO: replace with Question!!!

33808exp187  use IDEA ultimate to debug the reactive stream 

​         <--seems in reactive call stack, we have "reactive stream chain " hints within "[xxx]" 

​         <--need confirm these hints are actually reactive stream 

33808exp189 simple 3 debug options ,

33808exp190 production ready debug

33808exp191 reactor debug spring boot

33808exp223 with IDEA debug

# Redis

33808exp155 use redis as message listener

33808exp214 service level redis cache , redis timeout=0 (connection not timeout)

33808exp225 redis used in distributed session 

33808exp226 redis used for cache with customization

​        <--I guess this one should be better than exp214 

bpot2123 vhr  used as unique id checker

# Reflection and Proxy Java

### 32815exp  11 examples 

# Reflection and Proxy JS

### book162 has reflection chapter

# Regex Java

merge 30280 code here 

Ip address   match :   30280exp015

SSN and href match:    30280exp002

# Regex JS

162pd58  <---more about new rules of ES6 

​                  <---210417 book162 S001,S002 good

33808exp180 <-- reactjs use regex to test input pagesize



# Remember Me

33808qus174)_(01)__1_b gives example (todo)

33808qus174_(02)___1_a gives  source analysis



## RestTemplate

33808exp053

## Reset JS

https://github.com/cujojs/rest

https://github.com/cujojs/rest/blob/master/docs/clients.md   <--this client

33808Exp180  <---seems out of date 

# Rest Web Service 

### exp and features

30870

33808exp <--lots of spring example see Spring Rest Service 

# Rest Template

​     <--see also  Integration Test Rest Template 

### exp and features

33808exp234 <---in service bean call out rest api



# Ribbon

​        33808exp035

​         33808exp174

# Scope of bean

33808exp047  <--session scope bean 

# Scss

73003Qus006_(03)  (give ideas on how to integrate sass)

73003exp020

73003exp021 with react js 

73003exp022  <--this could the lab

# Security

see also JWT in feature center

see also Spring Security

32651exp java security 6 examples 

50220 LDAP

# Security CORS

see CORS Setup

# Security CSRF

see CSRF

# Serialization

# Serialization Java

### 30332exp002  Object serialization

### 32816exp001  use real file do serialization

### 32900exp ??/ seems there prototype pattern also use this

## Socket JS

JavaScript Lib SocketJS Home~ (https://github.com/sockjs)
JavaScript Lib SocketJS client (https://github.com/sockjs/sockjs-client)

33808exp112

33808exp180

# Source code archive

see 10070

# Spring boot 

## todo： 

we can test devtool which no need to restart server function

## data: 

#### initializer portal

https://start.spring.io/ 

https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-database-initialization

​                   <---this how to is very good !! 

# Spring Boot starter

33808exp095 <--actually code in exp093 use spring.factories in Meta-INF

33808exp233 <--own starter simple one 

33808exp234 <--our own starter with configuration properties 

# Spring Cloud __Overall

33808exp205

​         to exp208   <---combined 33808exp187 and 197

​         <---cloud gateway and OIDC together 

# Spring Cloud circuit breaker 

33808exp160

33808exp161 webflux

33808exp198 resillience setup and show configuration

33808exp199 actual call 

# Spring Cloud configuration

33808exp159

33808exp197 spring cloud integration with consul do configuration

33808exp198 <--client get  configuration from server !!

# Spring Cloud consul

 33808exp194 spring cloud consul

33808exp197

33808exp205 to exp208

# Spring Cloud gateway

33808exp162

33808exp171

33808 exp187

33808exp197 spring cloud integration 

# Spring Cloud load balancer

33808exp035 use ribbon and ifule and feign

33808exp174 ribbon and eureka

​       33808exp193 

​       33808exp197 spring cloud integration

# Spring Cloud Eureka 

33808exp034

33808exp035

33808exp158 load balance

# Spring Cloud Sleuth

33808exp213

# Spring Cloud Resilience 

see  cloud circuit breaker

# Spring Cloud zookeeper

33808exp195 spring cloud zookeeper 

33808exp196 embedded zookeeper

# Spring Cloud zuul

33808exp171

# Spring Command Line parameter

33808exp211 set different port number for nginx load balance test--in IDEA setup

33808exp221 when deployed to the virtualbox, need connect windows db --210203



# Spring Command Line Runner

the following need remove and we only reference to an exp 

```
@Bean  <---in BPOT2098 we use @Component also work
CommandLineRunner init(StorageService storageService) {   
                        <---use constructor to inject,we can try this in BPOT2098 as well
   return (args) -> {
      storageService.deleteAll();
      storageService.init();
   };
}  
      <--from 33808Exp082 , we also implemented in BPOT2098
      <--looks we can still pass args into lambda
      <--StorageService should be sth we can inject into, how about the other bean ?
```

```
@Configuration        <---use @Configuration + @Bean combination
@Slf4j
class LoadDatabase {

   @Bean
   CommandLineRunner initDatabase(EmployeeRepository repository) {
      return args -> {
         log.info("Preloading " + repository.save(new Employee("Bilbo Baggins", "burglar")));
         log.info("Preloading " + repository.save(new Employee("Frodo Baggins", "thief")));
      };
   }
}            
```



```
@Component // <1>
public class DatabaseLoader implements CommandLineRunner { // <2>

   private final EmployeeRepository repository;

   @Autowired // <3>     <--using constructor injection
   public DatabaseLoader(EmployeeRepository repository) {
      this.repository = repository;
   }

   @Override
   public void run(String... strings) throws Exception { // <4>
      this.repository.save(new Employee("Frodo", "Baggins", "ring bearer"));
   }
}            <---this is from 33808exp180, seem 
```

## exp and features

​       33808Exp001

​       33808Exp011

​       33808Exp053

​       33808Exp054  as a bean in main configuration class and inject restTemplate

​       33808Exp079  <--implement in main configuration class ,actually use main configuration class as command line bean

​                                      then the main class become the bean and still the CommandLineRunner interface implementation is the key

​       33808Exp080 stand alone component 



​        33808Exp082 as a bean in main configuration class similar to exp083

​       33808Exp083  as a bean in main configuration class 

​       33808Exp085  similar to exp083

​       33808Exp106 Seems use ApplicationRunner instead of CommandLine Runner

​                        <--https://www.concretepage.com/spring-boot/spring-boot-commandlinerunner-and-applicationrunner-example#:~:text=CommandLineRunner%20and%20ApplicationRunner%20serve%20the,spring%20ApplicationArguments%20as%20an%20argument.

​          <--- the same but ApplicationRunner will accept the args from main method 

​       33808Exp115

33808Exp116 <---implement command Line Runner interface 

33808Exp137  <--run as bean and also implment interface

33808exp147   <--command line runner as a bean

33808exp156

33808exp180

# Spring Configuration 

### doc

#### Online examples: 

https://docs.spring.io/spring-boot/docs/1.4.1.RELEASE/reference/html/common-application-properties.html

​                   <----list lots of examples 

### exp and features (moving to configuration of each feature)

#### yaml configuration

```
## Spring Boot Actuator Info Endpoint Customization
info:
  # static properties
  app:
    name: Spring Boot Actuator Info Endpoint Configuration Example
    description: This tutorial demonstrates how to customize the Spring Boot Actuator Info Endpoint.
                <---33808exp098
```



  <---Exp133  this yaml based is very important as the @configurationProperties are directly 
             annotated on the target Bean !!!!!!!
  <---Exp104 actuator configuration
  <---Exp028 mvc and servlet configuration    
  <---Exp034 lots of configurations for the eureka stuff  
  <---Exp178 has lots of configuration stuff like ribbon, endpoints setting etc.  

exp217 use many yaml stuff



#### Bootstap configuration

33808exp217



#### Debug toggle

```
debug=true     ^^^  <--in application.properties

debug: true      <---in yaml 
```

​              <---output debug info for core modules 

​                from: (https://docs.spring.io/spring-boot/docs/2.1.1.RELEASE/reference/html/boot-features-logging.html)   

​    
eureka.client.register-with-eureka=false            <---from 33808Exp158
eureka.client.fetch-registry=false                  <---from 33808Exp158

#### Logging

```
log4j.rootLogger=WARN                   
                <---from 33808exp155 
logging.file.path=C:\\Temp\\200501    
            <--exp067
logging.level.org.apache.tomcat.util.digester=info            <---from 33808exp069
logging.level.org.apache.catalina.session=info        <--from Exp071
logging.level.org.apache.catalina.core=info           <--from Exp071
logging.level.org.apache.jasper.servlet=info          <--from Exp071
logging.level.org.apache.tomcat.util=info             <--from Exp071
logging.level.org.apache.tomcat.util.compat=info      <--from Exp071
logging.level.org.hibernate.SQL=DEBUG             <---From Exp122
logging.level.org.hibernate.type=TRACE            <---from Exp011, Exp122        
logging.level.org.springframework=INFO
logging.level.org.springframework.jdbc.core = TRACE  <--from Exp127     <---need check,might be useful 
logging.level.root=debug
logging.level.root=ERROR             <--from 33808Exp083
logging.
```

​              <---logging format see 33830 

​	      <---log level can set to class level see BPOT2098 application.yml

```
logging:
  level:
    org:
      springframework:
        cloud.gateway: TRACE
        http.server.reactive: TRACE
        web.reactive: TRACE
         <--33808exp187
```


​          
mybatis.typeAliasesPackage=com.billydev.entity     <---Exp032  
mybatis.mapperLocations=classpath:mapper/*.xml


security.oauth2.resource.filter-order = 3 <--33808Exp093

server.contextPath=/springboot-jndi-lookup   

​            <---I guess 33808exp121, once this is set use jndi, 

​                 then spring.datasource.jndi-name=java:comp/env/jdbc/j4s         will be used

server.error.include-stacktrace=never   <---from 33808Exp083 , Exp147      
server.port = 8443                      <--from 33808Exp099 for ssl configuration
server.port:8090                        <--from 33808Exp094
server.servlet.context-path   /yoyo     <--yaml from Exp028 
server.ssl.enabled = true               <--from 33808Exp099 for ssl configuration 
server.ssl.key-store = classpath:sample.jks
server.ssl.key-password = password                      

server.tomcat.max-threads=0;   

​          <----From 33808exp113 was commented out, I guess control tomcat thread

​         <---server.tomcat.max-threads=250 Qus169-(01)-1

spring.aop.proxy-target-class=false  <--this should make Spring force use CGLIB dynamic proxy  from Exp079  (https://www.jianshu.com/p/05c262a67283)
spring.application.name=a-bootiful-client  <---from 33808Exp158
spring.application.name=contract-rest-client   <--from 33808Exp167
spring.banner.charset  utf-8  <--yaml from Exp028 

#### Spring.cloud

```
spring.cloud.gateway.discovery.locator.enabled=true
  <--can use discovery client as the router, exp187 does not have this 
  <--201122exp197S001
  <--from 33808exp197 
```

​        <--https://cloud.spring.io/spring-cloud-gateway/multi/multi__configuration.html  8.2 

```
spring.cloud.gateway.routes=[{id=caller-service, uri=lb://caller-service, predicates=[Path=/caller/**], filters=[RewritePath=/caller/(?<path>.*), /${path}]}, {id=callme-service, uri=lb://callme-service, predicates=[Path=/callme/**], filters=[RewritePath=/callme/(?<path>.*), /${path}]}]
   <--id is the service id, should be: spring.application.name, also registered in consul
   <--one service might have one uri, <--I guess lb is load balance ??
   <--predicates  should be the matcher of request 
   <--filters: <--?? still not understand 
   <--from 33808exp197
```

spring.cloud.config.uri=http://localhost:8888           <---from 33808Exp159

#### Spirng.cloud.consul

```
spring.application.name=gateway-service
spring.cloud.consul.config.format=YAML
    <--when read from configuration server, the format is yaml
    <--201122exp197s002, from exp197
spring.cloud.consul.discovery.hostname=localhost
    <--I guess this is the name registered in discover server
    <--from exp197
spring.cloud.consul.discovery.register-health-check=false
   <--I guess just not check the health from discovery
   <--from exp197
spring.cloud.consul.host=localhost
    <---I guess this is the place where to talk to consul server
    <--33808exp197
```



spring.cloud.gcp.project-id=iconic-access-229601              <---from 33808exp172
spring.cloud.gcp.credentials.location=file:[LOCAL_FS_CREDENTIALS_PATH]   <---from 33808exp172
spring.data.mongodb.host=192.168.1.100          <---33808exp175
spring.data.mongodb.port=27017                  <---33808exp175
spring.data.rest.base-path=/api                   <----33808Exp180, adjust rest root URI (https://spring.io/guides/tutorials/react-and-spring-data-rest/)
spring.datasource.driverClassName=com.mysql.cj.jdbc.Driver

                   <---- this one is old: spring.datasource.driver-class-name=com.mysql.jdbc.Driver

spring.datasource.hikari.enabled=false  <--Exp120                   
spring.datasource.initialization-mode=always               <--from Exp127
                    <---when table not created ?? or sqlnot load ?
spring.datasource.jndiName=jdbc/myDataSource

​                        <---33808Exp119 use this to set jndi name and then use this to search up jndi datasource

spring.datasource.jndi-name=java:comp/env/jdbc/j4s

​                         <---33808exp121 use this, I guess this is Spring internal jndi name !!!!!!(need confirm)

spring.datasource.url=jdbc:mysql://localhost:3306/33808exp119?useSSL=false
spring.datasource.url=jdbc:mysql://localhost:3306/github_demo?useUnicode=true&characterEncoding=utf8&serverTimezone=GMT%2B8&useSSL=true <--Exp133 (https://www.cnblogs.com/ZhangZiSheng001/p/12003922.html)
spring.datasource.username=billy
spring.datasource.password=123456
spring.datasource.jndiName=jdbc/myDataSource    

             <--from 33808Exp119        
             <--we can use our own datasource properties check Exp126
             <--DBCP2 connection pool properties refer to: ()

spring.h2.console.enabled=true   <--show hikari connection pool info in console from 33808Exp102
spring.jackson.date-format  yyyy-MM-dd <--yaml from Exp028 
spring.jackson.time-zone    GMT+8 <--yaml from Exp028 

spring.jpa.hibernate.ddl-auto = update
spring.jpa.generate-ddl=true
              <--the above 2 shall generate the db tables automatically
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQL5InnoDBDialect

​          <--from Exp119    

spring.jpa.properties.hibernate.generate_statistics=true      

​          <---From Exp117, will generate good hibernate statistics !! 

spring.jpa.show-sql=true            <--from Exp126 , Exp123, Exp125    , 33808qus172_(01)_1 
spring.ldap.embedded.ldif=classpath:test-server.ldif          <-- 33808Exp157
spring.ldap.embedded.base-dn=dc=springframework,dc=org        <-- 33808Exp157
spring.ldap.embedded.port=8389                                <-- 33808Exp157
spring.mail.host=smtp.qq.com       <--from vhr
spring.mail.protocol=smtp          <--from vhr
spring.mail.default-encoding=UTF-8   <--from vhr
spring.mail.password=fzvarxpndockbaeg    <--from vhr
spring.mail.username=1510161612@qq.com    <--from vhr
spring.mail.port=587                      <--from vhr
spring.mail.properties.mail.stmp.socketFactory.class=javax.net.ssl.SSLSocketFactory <--from vhr
spring.mail.properties.mail.debug=true  <--from vhr
spring.main.banner-mode=off
            <--from 33808Exp083            
spring.mvc
            <--WebMvcProperties @ConfigurationProperties use this prefix
spring.mvc.date-format  yyyy-MM-dd 

​             <--yaml from Exp028 

spring.profiles.active=Dev

```
@Component
@Profile("Dev")    <---this bean will be used as active 
public class DevDataSourceConfig implements DataSourceConfig {
    public void setup() {
        System.out.println("setting up dev datasource config!");
    }
}
@Component
@Profile("Production")
public class ProductionDataSourceConfig implements DataSourceConfig {
    public void setup() {
        System.out.println("setting up production data source!");
    }
}               
          <---from   33808exp066
          <---see also 33808exp147
```

​                

​                

spring.rabbitmq.username=guest          <---from vhr BPOT2123
spring.rabbitmq.password=guest           <---from vhr BPOT2123
spring.rabbitmq.host=192.168.91.128       <---from vhr BPOT2123

Spring.rabbitmq.host=192.168.1.100     <---from 33808exp156

spring.rabbitmq.port=5672                  <---from vhr BPOT2123
spring.rabbitmq.listener.simple.acknowledge-mode=manual   <---from vhr BPOT2123
spring.rabbitmq.listener.simple.prefetch=100               <---from vhr BPOT2123
spring.redis.host=192.168.91.128         <---from vhr BPOT2123
spring.redis.port=6379                 <---from vhr BPOT2123
spring.redis.password=123                  <---from vhr BPOT2123
spring.redis.database=0                   <---from vhr BPOT2123
spring.resources

            <--ResourceProperties @ConfigurationProperties use this prefix

spring.servlet.multipart.max-file-size=128MB
spring.servlet.multipart.max-request-size=128MB

​                 <--from 33808Exp082            

spring.session.store-type=jdbc  

​                      <--so we can see session in actuator ,  from 33808Exp102
spring.session.jdbc.initialize-schema=always  <--from 33808Exp102
spring.session.timeout.seconds=900    <--from 33808Exp102

spring.security.oauth2.client.registration.github.client-id: 7a53c7593fb2ca88c9d7

spring.security.oauth2.client.registration.github.client-secret:asfs <---from 33808exp084

spring.security.user.name=javaboy      <---basic authentication user info , from 33808exp141
spring.security.user.password=123      <---basic authentication user info , from 33808exp141
spring.thymeleaf.cache  false <--yaml from Exp028 
ribbon.eureka.enabled=false                 <---from 33808Exp171       
zuul.routes.books.url=http://localhost:8090  <---from 33808Exp171



#### custom collection type

​      <-----check (https://www.baeldung.com/configuration-properties-in-spring-boot)

```
  #List properties
  mail.defaultRecipients[0]=admin@mail.com
  mail.defaultRecipients[1]=owner@mail.com
  #Map Properties      <---
  mail.additionalHeaders.redelivery=true
  mail.additionalHeaders.secure=true
                   <---redelivery and secure should be the key of the map
  #Object properties
  mail.credentials.username=john
  mail.credentials.password=password
  mail.credentials.authMethod=SHA1
  
  tod.rootLocation=D:\\Backup\\PM1000
  tod.inputSourceFolders[0]=D:\\Backup\\PM1000\\Billydev080107
  tod.inputSourceFolders[1]=D:\\Backup\\PM1000\\李斌收藏081226
                      <---pay attention to: \\     
  Sample code of configuration class: 
       @Configuration     <---still needed to make it as bean
                          <---@EnableConfigurationProperties might not be needed TOD2098
                          
       @ConfigurationProperties(prefix = "mail") 
       public class ConfigProperties {
             private String host;
             private int port;
             private String from;
             private List<String> defaultRecipients;
             private Map<String, String> additionalHeaders;
             private Credentials credentials;
             // standard getters and setters <----THIS IS VERY IMPORTANT!!!!!!
    }      
```

#### custom configuration properties 

```
  <---Exp126  own datasource properties
  <---Exp144  with nested properties class
  <---Exp133  a bit customized datasource of connection pool 
  <---Exp038  customized properties from luban, GitHubReps folder 
  <---Exp065     @Value("${billydev.name}")  on field   private String name;

```

33808exp126 use custom properties; 

# Spring configuration properties

## Data

using:   @TestPropertySource(properties = {        "spring.jpa.hibernate.ddl-auto=validate"}) 

​        <--so we do not need go to properties file !! 

​          <--from   https://reflectoring.io/spring-boot-data-jpa-test/

## Exp 

33808exp065 application properties

33808Exp083 <-- WebMvcProperties.java 

33808exp234  <--our own spring boot starter use configuration properties 

# Spring Connection pool

33808exp133 <--dbcp2 connection configuration, see also  33808Qus125_(03)_2 the source of comments



## Spring Custom Annotations



# Spring DAO



# Spring Data Common 

Spring Data Common API (crud and pagingsorting here) (https://docs.spring.io/spring-data/commons/docs/current/api/org/springframework/data/repository/CrudRepository.html)

# Spring Data JPA

  <--see also Spring JDBCtemplate

## Data

152pd49 <--method api stuff here 

152pd289  <-- repository query method

​                                  pd292 query method return type

​                                  pd294 jpa annoations

​                                  pd298 spring annotation

​                                  pd301 application.properties for jpa

Spring Data JPA API (https://docs.spring.io/spring-data/jpa/docs/2.3.1.RELEASE/api/)

Spring Data JPA query method name convention (see also Exp122) (https://www.javaguides.net/2018/11/spring-data-jpa-query-creation-from-method-names.html)

Spring Data JPA repository class diagram(local diagram 200810S001) (https://www.javaguides.net/2018/11/spring-data-jpa-tutorial-getting-started.html)

​          <---Repository,  CrudRepository, PagingAndSortingRepository  belong to Spring Data (common)

​               JpaRepository belongs to Spring Data JPA

Spring Data JPA tutorial (https://www.javaguides.net/p/spring-data-jpa-tutorial.html)





## Exp and features

33808exp117 with transaction , no controller  

33808Exp118_SpringDataJPAChangeDataSource

33808exp119_SpringBootEmbeddedTomcatJNDIDataSource

​           <--- jndi datasource , generate-ddl=true

​           <--it has controller but not one to many relationship

33808Exp120_SpringBootJPAAutoTableCreation

33808exp121  jndi and jdbc template

33808exp122 using repository method by names

33808Exp123_SpringDataJPANamedQuery

33808exp124 with auditing and rest controller

33808exp125 native query and Junit4 test

33808exp126 multiple data source nullable in entity fild , one to many 

​              <--it has controller and also have one to many relationship !!!

​              <--user can show addresses because we use front end code !!

33808Exp127_SpringDataJPAForBPOT2117  --not completed

33808Exp128_SpringDataJPATest

33808Exp129_SpringDataJPASortAndPagination

33808Exp130_SpringDataJPASortAndPagination

33808Exp131_SpringDataJpaOneToManyMultipleColumns

33808exp132 Spring data JDBC

33808exp133 mybatis 

33808exp134_SpringWebFluxWithRepository

<-- access memory

33808exp135  from exp083 with jdbc userdetails service

33808exp136 use @JoinTable and Postgre style change to MySQL

33808exp147 quick example with validation like @Author

​               <---with controller , but this one does not have one to many 

33808exp200 with one to many and swagger

​              <---it has controller and one to  many and  show entity in controller , so this prove that by default one to many will do display in controller !!!! 

33808exp216  a bit specification   h2

33808exp217  advanced specification and criteria, very good h2 

​                         <--multiple level one to many, with controller 

33808exp220 from Exp217, move to postgres in docker 

​         <---todo : I guess we use data.sql and schema.sql from exp217 to setup postgres, then we may face less issues 

​                we can create a new project to do this 

33808exp237 <---test java datatype vs database datatype through JPA

# Spring Data MongoDB

Spring Data MongoDB API (https://docs.spring.io/spring-data/data-mongodb/docs/current/api/index.html?overview-summary.html)

33808exp175

33808exp176

# Spring Data Rest

33808exp176

# Spring email

33808exp116

# Spring Embedded tomcat 

33808exp119 context resource and jndi resouce setting



# Spring Framework (non-spring boot)

#### exp and features 

33808exp019

# Spring JavaScript

33808exp111  <--API call and callback setup is very interesting 

33808exp112   <---mainly jQuery stuff and handle the 3rd party API callback !! 

33808exp148  <--again websocket , this one is actually very good as it uses  ws!!!!!!!!!

# Spring JDBCtemplate

33808qus023  <--second one is better 

33808exp008 <--batchUpdate

33808exp121   <-- also use jndi

33808exp127  <---seems from 50216exp008 , at least we can see the code , SEEMS now using JPA

33808exp135  JDBCDaoSupport.java  <---this is spring class use lots of JDBCTemplate  stuff 

 33808epx236  JDBCTemplate of oracle

50216exp008  <---now in D:\Backup\PM1000\Billydev080107\wsCW7\50216Exp008\src\main\java\com\billydev\blib\dao

BPOT2080 

# Spring Jsp

33808exp071 with static jsp and other stuff 

# Spring MVC 

## doc

https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html

​      <---Spring Framework WebMVC~ reference doc()
​      <---Spring implmentation class API still within Spring Framework API doc

https://stackoverflow.com/questions/2952196/learning-ant-path-style

​      Spring Framework WebMVC GetMapping URL pattern

​                    <----example: 33808exp082 @GetMapping("/files/{filename:.+}") will also give filename variable
​                    <---@RequestMapping("/pdf/{fileName:.+}")  33808exp051

​                    <--then fileName will be used as a parameter

## exp and features

33808exp046

33808exp047 in list binding example, it literally register views 

33808exp050 

33808exp051 

33808exp052 

33808exp053 

33808Exp056_SpringBootWithJSPViewSupport not completed

33808Exp059_SpringMVCMimicServlet

33808Exp060_SpringMVC_ViewResolver

33808exp068 

33808exp071  use MVC configurer to config internal view resolver

33808Exp080_SpringBootFilter

33808Exp081_SpringBootCustomizeResponseBodyRendering

33808exp082

33808exp126  request mapping could have multiple values

33808exp147 controller method chain

#### crud in controller

33808exp147

```
@RestController
@Validated   <--https://cloud.tencent.com/developer/article/1497763 <--?still need look into  
public class BookController {

    @Autowired
    private BookRepository repository;

    // Find
    @GetMapping("/books")
    List<Book> findAll() {
        return repository.findAll();
    }

    // Save
    @PostMapping("/books")
    @ResponseStatus(HttpStatus.CREATED)
    Book newBook(@Valid @RequestBody Book newBook) {
        return repository.save(newBook);
    }

    // Find
    @GetMapping("/books/{id}")
    Book findOne(@PathVariable @Min(1) Long id) {   <--attention to validation
        return repository.findById(id)
                .orElseThrow(() -> new BookNotFoundException(id));
    }

    // Save or update
    @PutMapping("/books/{id}")
    Book saveOrUpdate(@RequestBody Book newBook, @PathVariable Long id) {

        return repository.findById(id)
                .map(x -> {
                    x.setName(newBook.getName());
                    x.setAuthor(newBook.getAuthor());
                    x.setPrice(newBook.getPrice());
                    return repository.save(x);
                })
                .orElseGet(() -> {           <--this should have an if in implementation
                    newBook.setId(id);
                    return repository.save(newBook);
                });
    }

    // update author only
    @PatchMapping("/books/{id}")
    Book patch(@RequestBody Map<String, String> update, @PathVariable Long id) {

        return repository.findById(id)
                .map(x -> {

                    String author = update.get("author");
                    if (!StringUtils.isEmpty(author)) {
                        x.setAuthor(author);

                        // better create a custom method to update a value = :newValue where id = :id
                        return repository.save(x);
                    } else {
                        throw new BookUnSupportedFieldPatchException(update.keySet());
                    }

                })
                .orElseGet(() -> {
                    throw new BookNotFoundException(id);
                });

    }

    @DeleteMapping("/books/{id}")
    void deleteBook(@PathVariable Long id) {
        repository.deleteById(id);
    }

}
         <---from  33808exp147
```

#### exception handling

``` 
@ControllerAdvice    <--I guess annotation will make this class join exception resolve
public class CustomGlobalExceptionHandler extends ResponseEntityExceptionHandler {

    // Let Spring BasicErrorController handle the exception, we just override the status code
    @ExceptionHandler(BookNotFoundException.class)            <---for new exception
    public void springHandleNotFound(HttpServletResponse response) throws IOException {
        response.sendError(HttpStatus.NOT_FOUND.value());
    }
    ...
       // error handle for @Valid
    @Override                   <--- for current known exception
    protected ResponseEntity<Object> handleMethodArgumentNotValid(MethodArgumentNotValidException ex,
                                                                  HttpHeaders headers,
                                                                  HttpStatus status, WebRequest request) {

        Map<String, Object> body = new LinkedHashMap<>();
        body.put("timestamp", new Date());
        body.put("status", status.value());

        //Get all errors
        List<String> errors = ex.getBindingResult()
                .getFieldErrors()
                .stream()
                .map(x -> x.getDefaultMessage())
                .collect(Collectors.toList());

        body.put("errors", errors);

        return new ResponseEntity<>(body, headers, status); <--wrap stuff with responseEntity

        //Map<String, String> fieldErrors = ex.getBindingResult().getFieldErrors().stream().collect(
        //        Collectors.toMap(FieldError::getField, FieldError::getDefaultMessage));

    }
       <--from 33808exp147
       <---the code provide 2 way:  override the current exception handling ; 
           for new exception add own method 
```

​                 <--- https://blog.csdn.net/everyok/article/details/82882132 <-- source code analysis

```
@ExceptionHandler(StorageFileNotFoundException.class)
public ResponseEntity<?> handleStorageFileNotFound(StorageFileNotFoundException exc) {
   return ResponseEntity.notFound().build();
}
    <--could be put into controller as well
    <--from 33808exp082
```

```
@ResponseStatus(HttpStatus.NOT_FOUND)
public class ResourceNotFoundException extends RuntimeException {
    public ResourceNotFoundException() {
        super();
    }
...
    <-- directly put @Response Status to Exception
    <--33808exp122
```

#### file upload download 

```
@Controller
public class FileUploadController {

   private final StorageService storageService;

   @Autowired
   public FileUploadController(StorageService storageService) {
      this.storageService = storageService;
   }

   @GetMapping("/")
   public String listUploadedFiles(Model model) throws IOException {

      model.addAttribute("files", storageService.loadAll().map(
            path -> MvcUriComponentsBuilder.fromMethodName(FileUploadController.class,
                  "serveFile", path.getFileName().toString()).build().toUri().toString())
            .collect(Collectors.toList()));
                              <---turn a strem into list of links
      return "uploadForm";
   }

   @GetMapping("/files/{filename:.+}")  <--filename will be used a PathVarible
   @ResponseBody
   public ResponseEntity<Resource> serveFile(@PathVariable String filename) {

      Resource file = storageService.loadAsResource(filename);
      return ResponseEntity.ok().header(HttpHeaders.CONTENT_DISPOSITION,
            "attachment; filename=\"" + file.getFilename() + "\"").body(file);
              <---attach resource as body
              <---also setup headers
   }

   @PostMapping("/")
   public String handleFileUpload(@RequestParam("file") MultipartFile file,
         RedirectAttributes redirectAttributes) {

      storageService.store(file);   <---copy MultipartFile stream into local
      redirectAttributes.addFlashAttribute("message",
            "You successfully uploaded " + file.getOriginalFilename() + "!");

      return "redirect:/";
   }

   @ExceptionHandler(StorageFileNotFoundException.class)
   public ResponseEntity<?> handleStorageFileNotFound(StorageFileNotFoundException exc) {
      return ResponseEntity.notFound().build();
   }

}
     <--from 33808exp082
```

#### mvc integration test 

```
@RunWith(SpringRunner.class)
@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)
@ActiveProfiles("test")  <--??
public class BookControllerRestTemplateTest {

    private static final ObjectMapper om = new ObjectMapper();

    //@WithMockUser is not working with TestRestTemplate
    @Autowired
    private TestRestTemplate restTemplate;

    @MockBean
    private BookRepository mockRepository;

    @Before
    public void init() {
        Book book = new Book(1L, "A Guide to the Bodhisattva Way of Life", "Santideva", new BigDecimal("15.41"));
        when(mockRepository.findById(1L)).thenReturn(Optional.of(book));
    }
              <---need to think the other way, assertXXX
              <---should be a quick test of repository
              <---Mockito
              
    @Test
    public void find_login_ok() throws Exception {

        String expected = "{id:1,name:\"A Guide to the Bodhisattva Way of Life\",author:\"Santideva\",price:15.41}";

        ResponseEntity<String> response = restTemplate
                .withBasicAuth("user", "password")
                .getForEntity("/books/1", String.class);

        printJSON(response);

        assertEquals(MediaType.APPLICATION_JSON_UTF8, response.getHeaders().getContentType());
        assertEquals(HttpStatus.OK, response.getStatusCode());

        JSONAssert.assertEquals(expected, response.getBody(), false);

    }

    @Test
    public void find_nologin_401() throws Exception {

        String expected = "{\"status\":401,\"error\":\"Unauthorized\",\"message\":\"Unauthorized\",\"path\":\"/books/1\"}";

        ResponseEntity<String> response = restTemplate
                .getForEntity("/books/1", String.class);

        printJSON(response);

        assertEquals(MediaType.APPLICATION_JSON_UTF8, response.getHeaders().getContentType());
        assertEquals(HttpStatus.UNAUTHORIZED, response.getStatusCode());

        JSONAssert.assertEquals(expected, response.getBody(), false);

    }

    private static void printJSON(Object object) {
        String result;
        try {
            result = om.writerWithDefaultPrettyPrinter().writeValueAsString(object);
            System.out.println(result);
            System.out.println("pring json myself:"+object.toString());
        } catch (JsonProcessingException e) {
            e.printStackTrace();
        }
    }

}
    <--from 33808exp147
```

#### mvc interceptor

33808exp145

```
@Configuration
public class WebConfig implements WebMvcConfigurer {
   @Autowired
    private LoginInterceptor loginInterceptor;

   @Override
   public void addInterceptors(InterceptorRegistry registry) {
      // 自定义拦截器，添加拦截路径和排除拦截路径
      registry.addInterceptor(loginInterceptor).addPathPatterns("/**");
   }
}
   <---need add interceptor first, it can setup path patterns as well 


@Component
public class LoginInterceptor implements HandlerInterceptor {
    //这个方法是在访问接口之前执行的，我们只需要在这里写验证登陆状态的业务逻辑，就可以在用户调用指定接口之前验证登陆状态了
    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {
                       <---can not understand what is the handler ???
        if (handler instanceof HandlerMethod) {
            NeedLogin needLogin = ((HandlerMethod) handler).getMethodAnnotation(NeedLogin.class);
            if (null == needLogin) {
                needLogin = ((HandlerMethod) handler).getMethod().getDeclaringClass()
                        .getAnnotation(NeedLogin.class);
            }
            // 有登录验证注解，则校验登录
            if (null != needLogin) {
                WxUserInfoContext curUserContext = (WxUserInfoContext) request.getSession()
                        .getAttribute("curUserContext");
                //如果session中没有，表示没登录
                if (null == curUserContext) {
                    response.setCharacterEncoding("UTF-8");
                    response.getWriter().write("Did not login!");
                    return false;
                }
            }

        }
        return true;
    }
    public void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable ModelAndView modelAndView) throws Exception {
    }

    public void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler, @Nullable Exception ex) throws Exception {
    }
}
   <---this is implementation of interceptor 
   
   <--from 33808exp145
```

#### mvc MockMvc test

```
@RunWith(SpringRunner.class)
@SpringBootTest
@AutoConfigureMockMvc
@ActiveProfiles("test")
public class BookControllerTest {

    @Autowired
    private MockMvc mockMvc;

    @MockBean
    private BookRepository mockRepository;

    @Before
    public void init() {
        Book book = new Book(1L, "A Guide to the Bodhisattva Way of Life", "Santideva", new BigDecimal("15.41"));
        when(mockRepository.findById(1L)).thenReturn(Optional.of(book));
    }

    //@WithMockUser(username = "USER")
    @Test
    public void find_login_ok() throws Exception {

        mockMvc.perform(get("/books/1"))     <---should access the controller
                .andDo(print())              <---by the way,just print out stuff
                .andExpect(status().isOk())
                .andExpect(jsonPath("$.id", is(1)))
                .andExpect(jsonPath("$.name", is("A Guide to the Bodhisattva Way of Life")))
                .andExpect(jsonPath("$.author", is("Santideva")))
                .andExpect(jsonPath("$.price", is(15.41)));
                    <----return entity is Book which has id, author, name ,price
    }

    @Test
    public void find_nologin_401() throws Exception {
        mockMvc.perform(get("/books/1"))
                .andDo(print())
                .andExpect(status().isUnauthorized());
    }

}
    <---from 33808exp147
```

#### mvc view resolver 

33808Exp060_SpringMVC_ViewResolver

```
@Configuration
public class WebConfig implements WebMvcConfigurer {
...
   @Bean
   public InternalResourceViewResolver internalViewResolver() {
      InternalResourceViewResolver resolver = new InternalResourceViewResolver();
      resolver.setPrefix("/WEB-INF/jsp/");
      resolver.setSuffix(".jsp");
      resolver.setViewNames(new String[]{"hello"});  
                  <---when InternalResourceViewResolver has name array, it will not 
                      take over the other views
      return resolver;
   }
   /*
    * Configure View resolver to provide XLS output using Apache POI library to
    * generate XLS output for an object content
    */
   @Bean
   public ViewResolver excelViewResolver() {
      return new ExcelViewResolver();         
                     <---these view resolvers will become resolver candidate
   }
   /*
    * Configure View resolver to provide Csv output using Super Csv library to
    * generate Csv output for an object content
    */
   @Bean
   public ViewResolver csvViewResolver() {
      return new CsvViewResolver();
   }
   /*
    * Configure View resolver to provide Pdf output using iText library to
    * generate pdf output for an object content
    */
   @Bean
   public ViewResolver pdfViewResolver() {
      return new PdfViewResolver();
   }
}


public class ExcelViewResolver implements ViewResolver {
    @Override
    public View resolveViewName(String s, Locale locale) throws Exception {
        if ("excel".equals(s.toLowerCase())) {
            ExcelView view = new ExcelView();   
            return view;
        } else {
            return null;
        }
    }
}              <---use view name to decide

   <---then need to implement ExcelView 

   <--from 33808exp071
```



##### 

# Spring ReactJS

see ReactJS





# Spring Resource 

Resource resource = new UrlResource(file.toUri());

​            <--33808exp082, wrap path with Resource 

# Spring Rest service 

check Spring Data JPA list examples 

# Spring Schedule

33808exp163

# Spring session setup

server.servlet.session.timeout=15m  

​    <--- we can do session timeout setup 

​      from: https://www.baeldung.com/spring-security-session#:~:text=In%20a%20nutshell%2C%20with%20this,of%20time%20is%20considered%20invalid.

​    <--I guess this is the reason session is not suitable for SPA application

33808exp047  it has session scope setting we need look into 

33808exp136 session disabled

33808exp225 use redis as distributed session 

# Spring Security 

see also CORS and CSRF

## doc

Spring Security API (https://docs.spring.io/spring-security/site/docs/current/api/index.html?org/springframework/security/config/annotation/web/builders/HttpSecurity.html)



https://docs.spring.io/spring-security/site/docs/5.0.6.RELEASE/reference/htmlsingle/#test-method-withmockuser

​              <--this official site reference looks ok



Spring Security Blog (江南一点雨) (https://zhuanlan.zhihu.com/p/150397755)        

## exp and features

see also CORS setup

50216 make big security stuff  50216exp 9 example here

33808exp083  <---in memory userDetails service 

33808exp084 <--Oauth2 with Github ( real example)

33808exp093  <--OAuth2 Client

33808exp094 <---resource server 

33808exp135 <---UserDetails configuration, 

33808exp136  <---more detailed than exp135, with authotken and jwt filter

33808Exp138_SpringSecurityFormLogin

33808Exp139_SpringSecurityFormDifferentHandler

33808Exp140_SpringSecurityFormLoginJsonResponse

33808exp141 <--formLogin with roles and in memory userDetails Service configuration

​                       javaboy

33808exp142 <---JDBC configuration for userDetails service 

​                            javaboy jdbc and custom user details service

​                       <---form login

33808exp157 ldap embedded

33808exp180  

​        <--use hardcoded authentication in database loader

​             using authority utils 

33808exp181 ldap with docker

33808exp186 Spring cloud Gateway  (working)
33808exp187 Spring cloud Gateway OpenId , keycloak, 

33808exp202 form login

33808exp205 spring cloud gateway -- using 187 and 197 together



# Spring Slf4j

see 33830

# Spring Slueth

check: cloud Slueth













# Spring Source Code Analysis

## Data: 

### important break point:



## Exp

Check U035 setup break points etc.

33808exp024  <--spring source code compile stuff

33808exp029  spring boot source code

33808Exp061_SpringMVC_ViewResolver_InSourceCode

33808Exp062_SpringMVCWithNewSourceCodeBuild

33808exp064

33808exp126 multiple data source 

# Spring SpEL

book152pd65 in JPA query

33808exp142 break point 2 metasource has SpEL

# Spring Thymleaf

33808exp082 with file upload stuff

33808exp126 users.html use th:each

33808exp186

# Spring Tools (my own)

33808exp147

# Spring Validation  

### Doc 

all constraints 

​         see: https://blog.csdn.net/shenchaohao12321/article/details/100163991

​                   <---Chinese blog list all constraints 

official site:

​     https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/core.html#validation

### exp and features

33808Exp083 

33808Exp147 (same origin as exp083 with no security)

33808exp200 some entity validation

#### Annotations  <--these details need go to exp stuff 

#### @NotEmpty

```
@NotEmpty(message = "User name can't be null or empty")
private String userName;
     <---UserSignupDTO in 33808exp185
```

#### @NotNull

```
@NotNull
private String userName;
   <---OauthAccessTokenEntity in 33808exp185
```

#### @Size 

```
@Size(min = 8, max = 32, message = "Password must be between 2 and 32 characters long")
private String password;
 <---UserSignupDTO in 33808exp185
```

###### 

#####

# Spring WebClient

### doc

### exp and features

###### Access basic service 

```
public class UserWebClient {

    private WebClient client = WebClient.create("http://localhost:8080");

    public List<Book> getResult() {
        return client.get()
                .uri("/books")
                .retrieve()
                .bodyToFlux(Book.class)     <---endpoint provide List<Book>,extract them
                .collectList().block();     <--transfer back to list,flux become mono<list>
    }
}
    <--from 33808exp147
```

##### 



# Spring WebFlux

### doc

reference doc(https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html)

Reactive Stream API (https://www.reactive-streams.org/reactive-streams-1.0.0-javadoc/index.html?org/reactivestreams/Publisher.html)

​           <---seems another project 


Core API (new, not part of spring) (https://projectreactor.io/docs/core/release/api/index.html?reactor/core/publisher/Mono.html)

​          <---Mono, Flux etc. 
​          <---Spring implmentation class API still within Spring Framework API doc

Core API (old) (https://projectreactor.io/docs/core/3.0.3.RELEASE/api/index.html?reactor/core/publisher/Mono.html)

Netty    API(https://projectreactor.io/docs/netty/snapshot/api/index.html?reactor/netty/channel/ChannelOperations.html)

##### 



### exp and features

# SQL _env setup Oracle

see DB Setup Oracle for non-SQL operations



36000exp023  <---setup Oracle 12 docker,  not done yet due to C drive not enough room 

36000exp024  <---setup or restore oracle on virtual box

# SQL _env setup Oracle Data setup

36000exp016 <--provide 2 ways

36000exp022  <---setup data for exp

# SQL _env setup Oracle directories

36000exp027 <--check screen shots

# SQL DCL and DBA Query Oracle

see DB Setup Oracle 

36000qus006-01-2-12 <--talking about table spaces ; 

36000qus006-01-4-b   lots of dba knowledges !! 





36000exp006 <---setup new user or schema

36000exp007   [***]<--some dba queries like get all tables

36000exp022  <---setup data for exp

36000exp023  <---create oracle database using docker 

36000exp024  <---setup or restore oracle on virtual box

36000exp029 <-----36000exp029_setup.sql <-----very good table space check stuff 

36000exp035 [***] <---dba advanced queries 

# SQL DDL Oracle

36000exp004  <--stored procedure

36000exp009 <--create table and alter tables

36000exp029 <---create index !! 

# SQL DML oracle

36000exp010  crud operations

36000exp022  <--crud during data setup





# SQL DQL Oracle

# todo: download book117 new version

https://www.w3schools.com/sql/sql_alter.asp

​                  <----it seems have main db query comparison stuff 

# todo:  Date time has lots of new clues to put in exp





## Exp (also distributed to specific topics)

36000exp005  <--with structure

36000exp011  <--case, pseudo column rownum,  decode 

36000exp012  <--join and subqueries 

36000exp013 <--left right and full join 

36000exp014 <--null related stuff 

36000exp015 <--group by

36000exp016  <--pivot table

36000exp017  <---use pivot and join to split the field

36000exp018 <--self join

36000exp019 <---use connect by to generate hierarchy

36000exp020* <--use connect by and partition by to show group details 

36000exp021* <--use joining table with rownum to split field content into rows 

36000exp022  <---setup data for exp

36000exp023  <---create oracle database using docker 

36000exp024  <---setup or restore oracle on virtual box

#SQL DQL Oracle Analyze function

36000exp020 <--use row_number() over and count(*) over to get group detailed info

36000exp025 <-- paging use row_number() over function 



todo: lag and lead: 

https://www.oracletutorial.com/oracle-analytic-functions/oracle-lag/

​                <--related to the decode one  from email draft 210425-1 

​             <---117 8.7  <--use leadover, also analicialfuction

# SQL DQL Oracle Datetime 

see Date time oracle !! 



# SQL DQL Oracle Grouping

tobe added to exp: 

select * from table1 where FID in (select FID from table1 group by FID having (count(Distinct Fno))>=2)

​             <---有一个表table1有两个字段FID，Fno，字都非空，写一个SQL语句列出该表中一个FID对应多个不同的Fno的纪录。

​            from: https://www.huaweicloud.com/articles/32b9f3f6ef9fda06a2b4ccbd44fb6579.html







todo: 

<--roll up function can get the sum rows !! 

From: https://www.oracletutorial.com/oracle-basics/oracle-rollup/





todo: 

如何只显示重复数据，或不显示重复数据

select * from tablename group by id having count(*)>1  

select * from tablename group by id having count(*)=1

​        from: https://www.php.cn/mysql-tutorials-143537.html



# SQL DQL Oracle Join and relationship

36000exp012

36000exp013

36000exp032 <---extra 'jump' relationship need to check data if it will reduce the output 

# SQL DQL Oracle Paging

36000exp025 <---provide 2 ways to do the paging 

# SQL DQL Oracle With Clause

todo:  email draft 210601 -01  <---jdbc with clause

36000exp005

# SQL DQL Oracle Tech: Case and decode

36000exp011 <--decode and 



todo:   

​    put different cases sun up into one line 

```
select sum(case when fsalary > 9999 and fage > 35
then 1
else 0end) as "fsalary>9999_fage>35",
sum(case when fsalary > 9999 and fage < 35
then 1
else 0
end) as "fsalary>9999_fage<35",
sum(case when fsalary < 9999 and fage > 35
then 1
else 0
end) as "fsalary<9999_fage>35",
sum(case when fsalary < 9999 and fage < 35
then 1
else 0
end) as "fsalary<9999_fage<35"
from empinfo;
```

  from: https://www.huaweicloud.com/articles/32b9f3f6ef9fda06a2b4ccbd44fb6579.html





todo: 

```
select months, max(incomes), max(prev_months), max(next_months)
from (select months,
incomes,
decode(lag(months) over(order by months),
to_char(add_months(to_date(months, 'yyyymm'), -1), 'yyyymm'), lag(incomes) over(order by months), 0) as prev_months, decode(lead(months) over(order by months), to_char(add_months(to_date(months, 'yyyymm'), 1), 'yyyymm'), lead(incomes) over(order by months), 0) as next_months from (select months, sum(income) as incomes from a group by months) aa) aaagroup by months;
```

from: https://www.huaweicloud.com/articles/32b9f3f6ef9fda06a2b4ccbd44fb6579.html



# SQL DQL Oracle Tech:  Connect By

36000exp016

36000exp020 <--use connect by to link those related to records

36000exp022 <--use connect by to generate data ( with ordered number )

# SQL DQL Oracle Tech: Index usage

todo: 

select aa.x from aa
where not exists (select 'x' from bb where aa.x = bb.x) ;
以上语句同时使用到了aa中x的索引和的bb中x的索引

from: https://www.huaweicloud.com/articles/32b9f3f6ef9fda06a2b4ccbd44fb6579.html

​                   <--we can test explain plan and check the actual result !! 

# SQL DQL Oracle Tech:  Rownum

117 9.8 interesting 

# SQL DQL Oracle Tech: Selfjoin

36000exp018

# SQL DQL Oracle Tech:  use join to split field into rows

36000exp017 <--provide 3 similar ways

36000exp021 <---manually add iteration table with rownum, then join the original table, use rownum to "cut" substring out

# SQL Execution Plan and query optimization MySQL

see in BLIB MD 38000 <---temp over there and should be wrapped into MySQL exp , then could be referenced

# SQL Execution Plan and query optimization Oracle

see also : MySQL optimization stuff  

36000qus011 

​             <---will have exp, can wrap stuff into exp

36000exp028 ........and more example coming 

36000EXP029  <--with index 

36000exp030  <---index not used 

36000exp031 <---null stuff index used 

36000exp033 explain for group by etc. 

36000exp034  <--query optimization  suggestions, this is text file 

# SQL Locking and blocking Oracle

36000exp008

# SQL Front end Java

see 30880 there are many jdbc examples

# SQL Functions Oracle

36000exp001 to exp 004 <---

# SQL Stored Procedure And Package Oracle

36000exp004 

36000exp026  <--with packages 

# SQL XXX  MySQL

to be added

# SSH

10800exp001 windows to linux ssh setup

10800exp15 in progress ....  SSH auto login between 2 linux 

# SSL

33808qus164-(03)-2_b_5

33808exp005

33808exp099 (use exp005 stuff)

33808exp186 has ssl key (for verification)

33808exp212

# SSO

33808exp186 uaa

33808exp187 keycloak

# Stomp JS

https://stomp-js.github.io/stomp-websocket/codo/alphabetical_index.html



# Stream Java Stream created

## Exp

30170exp025 

33808exp238  BookingTestConfigurationTest   <--Arrays.stream can accept array to create stream 

​                   <---I guess other stream are created through collection

# Stream Java map, filter and flatMap 

## Data

( see: https://www.baeldung.com/java-difference-map-and-flatmap)

## Exp



31422exp002* <---very typical map, filter and forEach

31428exp001*** <---very typical mapping  and do the average , sum, mapToInt and reduce !!!!

​                                      <--also mentioned parallel 

31428exp001*** <--mapping and advanced group by







33808exp047 <--in inMemoryService using map and max stuff 

33808exp081 <--stream forEach and output in the listener

33808exp082 <---FileSystemStorageService  loadAll() Files.walk method using 

33808exp094 <---RestTemplate line 853 <---advanced stream stuff 

33808exp107 <--used in metrix

33808exp147 <---controller has lots of stream operations and also use lambda to provide functional interface !!!!

​                          <--bookController saveOrUpdate very good !!! 

33808exp217  Specifications class 

​     <--use lots of Optional interface 

33808exp224    

​         <---see fetcher part and also overall as a lambda return, findFirst interesting

33808exp238  BookingTestConfigurationTest    <---use map, sorted and forEach

# Stream Java Collector and reduce

## Data: 

<-- todo: https://opensource.com/article/20/1/javastream   <--put  into some question

<-- hint: java lambda :  ->    javascript arrow function =>

## 

## Exp

31428exp001*** <---return another average , also do the group by stuff !!! <--very advanced collector stuff 

​                                 <--also mentioned parallel 

​								 <--mapping and advanced group by

​                                 <---- reduce with own (a, b)->a+b method  !!!!

33808exp047 <--InMemoryBookService  has a toMap collector 

# Stream Java ofNullable

### Data

   https://cloud.tencent.com/developer/article/1031210 



​                              

# Stream Java HELPER: functional interfaces

Supplier<T>    T get() 

​             <---used in orElseGet

Consumer<T>   void accept(T t)

​               <---used in 

Predicate<T>   boolean test(T t)  

​                     <--predicate is a consumer but will return stuff, used in iteration or filerting                         

Function<T, U>   U apply(T t)

​                     <--used in mapping 

# Stream Java HELPER: Stream returned Optional

#### ElseXXX stuff

orElse(other)   <--input is  Optional

orElseGet(Supplier<T> s)   <---so it will eat lambda

orElseThrow(Supplier<T> e)   



# Stream JS:

see Data Structure Array JS

# String ops java

String Ops Regex Java

30130U001 traditional String api

30130U005 API Decrease good

## Exp

### 30130exp001 to exp008 good examples

# String ops JS

https://www.w3schools.com/js/js_string_methods.asp 

73030exp017 <--use substring 

# String Ops MySQL

will be wrapped in exp from cheat sheet , CTS and MD !!  do similar to oracle 

# String Ops Oracle 

36000exp002 <--string functions

36000exp017 <--split string or csv field 

36000exp021 <--split string field into rows



# String Ops Shell script 10800

10800exp008 <--all string ops

# Swagger

33808exp181

33808exp200

# Test Java Integration Test

60066qus003 <--including onboarding integration test stuff 

# Test Java JUnit Test

The following stuff need to rewrite to  Feature level  (each one is a feature level title )  and then provide a view like : 

  mockmvc view,  like  Junit4/5 view , like Security test view etc. to reflect the advantage of Feature center !!!!!!!

## Data

51502qus012 <---01-2 is good , 210427 has some screen shot for new features of Junit 4 

https://junit.org/junit5/docs/current/user-guide/

​                <--good junit guide with api

60066qus002  <--about morgan stanley test guide line

60066qus002-04-1  morgan unit test pdf :  D:\Backup\PM1000\Billydev080107\TempDev\210618-1-60066UnitTestPDF

​                    <---presentation pdf good , test is production code level !!  self documentation [***]

60066qus003 <---this is about integration test 

## THE FOLLOWING NEED TO DO THE MERGING

### AssertJ

32606 JUnit AssertJ~ Unit5 compare  (http://testinglikeaboss.com/tips-tricks/migrating-from-junit-5-assertions-to-assertj/)

32606 JUnit AssertJ examples
assertThat(response.getStatusCode()).isEqualByComparingTo(HttpStatus.FOUND) <---33808exp082 FileUploadIntegrationTests line 47
assertThat(service.load("foo.txt")).exists();

33808exp175 test good 

### Junit 4 Examples 

```
assertEquals(MediaType.APPLICATION_JSON_UTF8, response.getHeaders().getContentType());  
```

​            <---33808Exp083 BookControllerRestTemplateTest line 57            

```
assertEquals(HttpStatus.OK, response.getStatusCode());  
```

​         <---33808Exp083 BookControllerRestTemplateTest line 58

```
assertEquals(employee2.getFirstName(), employee.getFirstName()); 

         <--- Employee employee2 = employeeRepository.findByFirstName("admin"); line 41  
```

​            <---EmployeeRepositoryTests in 33808Exp125

```
assertNotNull(id); 
            <---Long id = entityManager.persistAndGetId(employee, Long.class); line 37 
```

​             <--- EmployeeRepositoryTests in 33808Exp125

```
JSONAssert.assertEquals(expected, response.getBody(), false);     
           <--- expected is hardcoded json String  
```

​          <---33808Exp083 BookControllerRestTemplateTest line 60  

### JUnit 5 Examples

```
assertEquals(HttpStatus.OK, entity.getStatusCode());
assertEquals("http://localhost:9000", entity.getHeaders().getAccessControlAllowOrigin());
Greeting greeting = entity.getBody();
assertEquals("Hello, World!", greeting.getContent());
```

​             <--- 33808exp179

```
assertThrows(StorageException.class, () -> {
		service.store(new MockMultipartFile("foo", "../foo.txt",
		MediaType.TEXT_PLAIN_VALUE, "Hello, World".getBytes()));
	});    
```

​              <---- line 59 FileSystemStorageServiceTests 33808exp082 



### Integration Test

33808exp083 <---use restTemplate do integration test,  with basic auth,  getForEntity 

33808exp179 <---setup TestRestTemplate with ORIGIN header and send  request to server, server allow this origin !!

### Spring Util Assert 

Assert.isTrue(bookingService.findAllBookings().size() == 3,	"First booking should work with no problem"); 

​    <---line23 AppRunner 33808exp137

  todo 210307 put the following into the above (merge)

## exp and Features



### JUnit4 

33808exp039 test code looks good although not run well 

33808exp083 mvc and restTemplate test  <--use junit4.12 

33808exp125  db level test of jpa

33808exp133 mybatis simple test    <---the test package not in test part (so did not follow the convention)

33808exp144 webflux, webclient

33808exp147 mvc and restTemplate 

​      <--it also has active profile stuff !! TestRestTemplate stuff 

​          it has basic auth stuff 

​     <---basically use junit4 but the dependency is through vintage 

   <--seems test failed need fix !! 

33808exp202 overall mockmvc and integration test <--some tests added by myself

​            <---have both vintage and jupiter from Spring boot starter  tester !!!! 

​               should follow33808exp179 to exclude that 

33808exp239  

60066exp003 <--very good examples 

### JUnit5 

32606exp    3 examples here???

33808exp047 test seems use explication configuration <---JUnit5

​            <---both @SpringBootTest and @Runwith 

33808exp082 file upload test [***]  <--not use pure Junit,basic using Junit 5

​             <---using @SpringBootTest

33808exp179 test with http header etc. <--exclude vintage and only use Junit5 Jupiter good!! 

​            <--using @SpringBootTest

33808exp204 webclient test 

33808epx237 <--try to test all data types with ORM of JPA

33808exp238 

### Mockito

33808exp147

### Other









# Test Java JUnit 4 vs JUnit 5 Annotation Compare

## Data

https://howtodoinjava.com/junit5/junit-5-vs-junit-4/  

​               <----good mapping list of annotations 

JUnit 4    ------------------------------- Junit 5

@BeforeEach   

# Test Java Maven vs Gradle



# Test Java Spring Integration Test DataJPA

33808exp125   <---with @DataJpa  annotation then we can  use EntityManager etc. 

​                                seems not an overall Spring env

33808exp238  <---test database initialized with data and test query etc. 

# Test Java Spring Integration Test MockMvc

​           <--- try to mimic web requests etc. 

33808exp047  <-- a bit weird  mockMvc test , seems it checked model and view and also f;ashMap stuff ???

33808exp082 <--get and multipart very good  FileUploadTest 

​                                  in FileUploadIntegrationTest,  

​                          

33808exp083 <--get , @WithMockerUser and Without MockerUser is different 

​                             perform URL and expect json path 

​                          <--login seems using basic authentication

33808exp147 <--get. @WithMockUser--seems code changed a bit

33808exp238  <--booking controller, test post, with request parameters (not path variable), 

​                                          it also use booking builder

​                               registerUser integration test, post with content !!!!! 

​                               registerRestControllerTest <---seem partly spring test with post and content !!! 

33808exp239  test1  <--perform getUser, check accept media type ( content) and compare result



# Test Java Spring Integration Test Overall

33808exp082 <---check the download and upload file very good !! super good [***]

33808exp144  <--use TestWebClient, using http patch and delete as well !! 

33808exp147   <--use restTemplate with basic auth

33808exp179  <--super good, it will request with CORS head and check the result 

33808exp238 <--booking integration test ,including context test etc. 

​                             customerModule test which check all injected beans existing and web and data layer beans as well 

​                              also import test, scheduling test, Propertiest test !!!! very good !! Property Source test !!!!! 

33808exp239 test <---use TestRestTemplate, get Entity and check response status and compare json

# Test Java Spring Integration Test Security test

33808exp147   <--use restTemplate with basic auth

​                                BookControllerTest has annotation of WithMockUser !! ???not 

33808exp179  <--super good, it will request with CORS head and check the result 

33808exp241 in progress ... <---not completed article ok, especially test case 12 !!!  

# Test Java Spring Integration Test helper

33808exp238 ResponsBodyMatcher  <---seems used by the test method 

# Test Java Spring Unit test 

33808exp238 mockBean test 

​       <--test service, although this is spring, but it does not need spring env

​           registerUseCase Test  (need compare with integration test )

​                            



#Test JS

## Data: 

https://jestjs.io/docs/expect

​              <--all Jest expect API

https://jestjs.io/docs/mock-functions

​              <---Mock function

https://jestjs.io/docs/mock-function-api

​               <---Mock function API 

https://github.com/chentsulin/awesome-react-renderer

​            <---different react renderer stuff 

https://reactjs.org/docs/test-renderer.html#testinstance

​             <--test instance methods here , this is test-render

https://reactjs.org/docs/test-utils.html

​             <---this is test utilities API 

https://reactjs.org/docs/events.html#supported-events

​              <--all  react supported events

## exp

73030exp058 <--quick setup, use test , different from 73066exp041 , exp049

# Test ReactJS

## Data

https://reactjs.org/docs/test-renderer.html#testinstance

​                <--test render

https://reactjs.org/docs/test-utils.html

​               <---test utility

## exp

73066qus101

73066exp041 <---it has todos.spect.js  

​               <---this should be js test stuff we need look into 

73066exp045  <--use ReactDOM.render and ReactDOM.unmountComponentAtxxx

73066exp049 <--seems use render and screen <---seems not jest ??

73066exp070 

# Threads

## todo:  

​        <---33808exp234 use jobControlthread to break the process, can we use timer ??

​              single task can we use FutureTask  instead of thread ? then use taskInterrupt ??or timer 

# Thread Factory and set

30780exp034 <---just mimic thread factory concept by adding thread name, need more complex examples

30780exp038  <---daemon thread

# Thread communication

30780exp013 <--use synchronized , wait and notify 

30780exp014 <--use synchronized , wait and notify

30780exp026 <--use Priority blocking queue to communicate between threads

30780exp040 <---interrupt sleep thread and catch exception

30780exp042 <-- release lock only when method is done 

33808exp234  <---job thread and interrupt control tread pattern , use shared Exchange not sure if there is thread safe issue

# Thread Atomic Variables stuff

30780exp027 <---simple one, we shall use more complicated one like optimistic lock

# Thread CompletableFuture

30780qus060-01-1 

# Thread Reentrant Lock

30780exp028 <---how to use lock and unlock pattern

30780exp029 <--reentrant lock with condition

30780exp030 <---conditional lock with blocking queue

30780exp039 <---readwrite lock to increase concurrency

# Thread Local

33808exp184 <---RequestContext line 65 

# Thread Single Task

33808exp069 <---LoadingCache line47 , use FutureTask

# Thread Semaphore  

30780exp020 <---every thread has semaphore and acquire it and run it then release , kind of token

# Thread Cyclic barrier 

30780exp023  <---every thread hold barrier, as long as wait people reached number, theads start 

# Thread countdown latch

30780exp021 <--one counter down many threads are waiting 

33808exp112  <--similar to exp156

33808exp156 <---runner got receiver latch , then when receiver count down, runner main thread completed

# Thread pool

30780exp031 <--create a customized thread pool (one Task submit create 3 threads in the pool , now deepen the understanding)

30780exp032 <--singleThreadExecutor , submit callable and return Future

30780exp033 <---FixedThread pool, split into like 10 range and give to 10 thread,  and sum up when get result from future 

30780exp036 <--Forkjoin pool  with return value

30780exp037 <--forkjoin 

30780exp041 <---ScheduledExecutorService call schedule method

33808exp106 <--using scheduledThreadPool 



# Tomcat 

<---myself tomcat source diagram etc. 

see 10600 stuff

33808Exp119， 

33808Exp121

# Transaction 

152pd175

33808exp117 jpa transaction

33808exp137 a loop as whole transaction,partly fail will fail whole transaction

33808exp217 read only

# TypeScript 

see JavaScript Type Script

# Unicode code 

see "I18N and Encoding" in feature center



# UserDetails and UserDetailsService in Spring boot

33808exp083

​      <--use InMemory and use configurer

33808exp135

​    <--use JdbcUserDetailsManagerConfigurer  and use system implemented jdbc

​         need configure datasource

33808exp136

​    <--use own implemented UserDetailsService and wrap with DaoAuthenticationConfigurer

33808exp141

   <--use inMemoryAuthentication , different from exp135 which is jdbc

33808exp142

   <--I guess use jdbcUserDetailsService to override default inMemoryAuthentication, need provide datasource

# URL authorization in Spring boot

33808qus174_(02)__1_b  <--explained REGISTRY is passed to FilterSecurityInterceptor , then do vote 

33808exp202 

​     <---formLogin,  some url and need roles 

# Utils

# Utils Byte Utils

32651exp004 <---byte array  vs stream and file interaction good 

# Utils Guava

see Guava

# Utils Signature Utils

32651exp004 <--sign data, 

32651ex006 <--verify data 

# Validation

see Spring Validation

# Views in spring boot

33808exp071 multiple views

# Virtual Machines

## Data

see 10300General info 

## exp and features

​          10300exp001 

​          10300exp002 <--vm big files $$$$$$$$$$ VERT IMPORTANT HERE 

​          36000exp024  <---it has oracle db and BRM stuff  in Aurora Linux VM

# WebClient

33808exp134 only use get request with a bit result processing 

33808exp144 crud operation of github

# WebFlux 

33808exp109 router function  and websocket

33808exp114 load test

33808exp134 access memory client has long code 

33808exp144  access github

33808exp161 circuit break    

33808exp187

33808exp191 reactor debug spring boot

33808exp192 copy from exp134, with aop do loggging

33808exp197

33808exp198

33808exp199

33808exp223  with IDEA debug test

# Webjars

33808exp112 socketjs, stomp,bootstrap, jquery

33808exp148

33808exp187

# WebMvcConfigurer in Spring Boot

​      33808exp145 add interceptor

# WebSocket 

## Todo:

use RabbitMQ as message broker; 

210330:  there is sping boot do the  wss:  https://learn.vonage.com/blog/2018/10/08/create-websocket-server-spring-boot-dr/
                    <---this is the one which could expose websocket url stuff 

## Data

Spring Framework WebSocket 6455 websocket protocol (https://tools.ietf.org/html/rfc6455)
Spring Framework WebSocket API (https://www.w3.org/TR/websockets/)

## Exp and Features

https://developer.mozilla.org/en-US/docs/Web/API/Websockets_API  <--js api also gives examples 

33808exp111

33808exp112* stomp, go through controller, test looks good 

​                  <--jquery client

33808exp148   <--very good use ws protocol 

33808exp180  <--reactjs client 

73066exp056  <---reactjs websocket hook client  



# Zipkin

33808exp213

# Zookeeper

33808exp229 <--work with kafka 

# Zuul 

​     33808exp171

​     33808exp184

# __Cutting Edge

<---need to add build and deployment project here

33808exp180  <--with react.js stuff 

33808exp203 load test

33808exp205-208 Cloud overall 





# Sample Feature Leading entry

For example, Git has many first level entries like Git XXX, then we can have   a leading one where we can put some "meta" etc. 

Best recall route  <---list like exp or books , we could have priority 1, priority 2 to help us recall !!

# Sample Feature  entry

<---  rules:    In all cases we can put screenshot reference there !! 

​              try not use too much hierarchy here !!

Todo <--to do in this feature

Data:    <--some API and important data

​        ??Book <-- reference our books  <--maybe naturally reference book and qus is better 

​         ??Qus  <--reference to qus 

exp and features                                 

​            <---should be exp centered, encourage wrap code with exp ( so have reference link and screen copy)

​             <--list exp for this feature